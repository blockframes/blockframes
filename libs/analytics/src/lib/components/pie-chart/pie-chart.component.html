<header>
  <ng-content select="[title]"></ng-content>
  <button mat-icon-button (click)="toggleSelect()" *ngIf="previousSelection" matTooltip="Remove selection">
    <mat-icon svgIcon="refresh_filters"></mat-icon>
  </button>
</header>
<ng-content select="[caption]"></ng-content>

<ng-container *ngIf="!isLoading else loading">
  <ng-container *ngIf="pieChartOptions.series?.length; else empty">
    <apx-chart
      #chart
      [series]="pieChartOptions.series"
      [chart]="pieChartOptions.chart"
      [labels]="pieChartOptions.labels"
      [dataLabels]="pieChartOptions.dataLabels"
      [theme]="pieChartOptions.theme"
      [stroke]="pieChartOptions.stroke"
      [legend]="pieChartOptions.legend"
    ></apx-chart>
  </ng-container>
</ng-container>

<ng-template #empty>
  <img asset="empty_state_analytics_pie_chart.svg" alt="Image, you have no movies yet">
</ng-template>

<ng-template #loading>
  <mat-spinner color="primary"></mat-spinner>
</ng-template>
