<header fxLayout fxLayoutAlign="start center" fxLayoutGap="8px">
  <mat-icon svgIcon="landscape"></mat-icon>
  <h5>Split by Company Territory</h5>
  <button mat-icon-button *ngIf="selected" (click)="toggleSelect(selected)" matTooltip="Remove selection">
    <mat-icon svgIcon="refresh_filters"></mat-icon>
  </button>
</header>

<world-map *ngIf="top3.length; else noData">
  <!-- MAP LAYERS -->
  <ng-container *ngFor="let isoA3 of zero">
    <map-feature [tag]="isoA3" color="#ebeef3" (click)="toggleSelect(isoA3)"></map-feature>
  </ng-container>

  <ng-container *ngFor="let isoA3 of lessThanFive">
    <map-feature [tag]="isoA3" color="#dee5ff" (click)="toggleSelect(isoA3)"></map-feature>
  </ng-container>

  <ng-container *ngFor="let isoA3 of lessThanFifty">
    <map-feature [tag]="isoA3" color="#8da4fa" (click)="toggleSelect(isoA3)"></map-feature>
  </ng-container>

  <ng-container *ngFor="let isoA3 of moreThanFifty">
    <map-feature [tag]="isoA3" color="#001ec7" (click)="toggleSelect(isoA3)"></map-feature>
  </ng-container>

  <ng-container *ngIf="selected">
    <map-feature [tag]="selected" color="#3c64f7" (click)="toggleSelect(selected)"></map-feature>
  </ng-container>
</world-map>

<mat-list>
  <mat-list-item *ngFor="let top of top3">
    <span matLine>{{ top.label }}</span>
    <span>{{ top.count }}</span>

    <mat-divider></mat-divider>
  </mat-list-item>
</mat-list>

<ng-template #noData>
  <img asset="empty_state_analytics_map.svg" alt="Image, you have no movies yet">
</ng-template>
