<section *ngIf="(user$ | async) as user" test-id="notification-widget">
  <button
    mat-icon-button
    [matMenuTriggerFor]="notifications">
    <ng-container *ngIf="(totalCount$ | async) as count; else: empty">
      <mat-icon
        [matBadge]="count"
        matBadgeColor="accent"
        matBadgeSize="small">
        notifications_none
      </mat-icon>
    </ng-container>
    <ng-template #empty>
      <mat-icon>notifications_none</mat-icon>
    </ng-template>
  </button>
</section>
<mat-menu #notifications="matMenu" xPosition="before" class="mat-elevation-z6">
  <section test-id="notification-list">
    <invitation-list></invitation-list>
    <notification-list></notification-list>
    <article *ngIf="(totalCount$ | async) == 0" class="container">
      <span>You have not yet received any notifications</span>
    </article>
  </section>
</mat-menu>
