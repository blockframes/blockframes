<ng-container *ngIf="active$ | async | deepKey:getDeepPath(activeDirectory.storagePath) as data">
  <bf-table-filter [source]="data | toArray" [columns]="columns" [initialColumns]="initialColumns" (rowClick)="previewFile(getFileRef($event))" clickable>
    <ng-template colRef="ref" let-item="item">
      <img [asset]="getFileRef(item) | fileTypeImage">
    </ng-template>
    <ng-template colRef="main" let-item="item">
      <span (click)="previewFile(getFileRef(item))">
        {{ getTitleRef(item) | fileName }}
      </span>
    </ng-template>
    <ng-template colRef="actions" let-item="item">
      <section fxLayout="row" fxLayoutGap="12px">
        <button mat-icon-button (click)="downloadFile(item, $event)">
          <mat-icon svgIcon="download"></mat-icon>
        </button>
        <button mat-icon-button (click)="edit(item, $event)">
          <mat-icon svgIcon="pencil"></mat-icon>
        </button>
        <button mat-icon-button (click)="deleteFile(item, $event)">
          <mat-icon svgIcon="trash"></mat-icon>
        </button>
      </section>
    </ng-template>
  </bf-table-filter>
</ng-container>