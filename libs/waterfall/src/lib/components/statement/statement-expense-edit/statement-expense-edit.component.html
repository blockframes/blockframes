<global-modal>
  <h2 i18n>Save Expense Changes</h2>

  <h3>{{ data.expense.rightholderId | rightholderName: data.waterfall }} - {{ data.expense.date | date }}</h3>
  <p class="mat-body-2">{{ data.expense.nature }} - {{ data.expense.typeId | expenseType : data.expense.contractId : data.waterfall }}</p>

  <section>
    <mat-form-field appearance="outline">
      <mat-icon [svgIcon]="form.get('override').get('currency').value" matPrefix></mat-icon>
      <input matInput type="number" min="0" [formControl]="form.get('override').get('price')" required />
      <mat-error i18n>Please fill in a value.</mat-error>
      <mat-hint i18n>Enter the new amount of this Expense. Set it to zero to delete it.</mat-hint>
    </mat-form-field>

    <button mat-icon-button (click)="restore()" matTooltip="Restore to initial value" i18n-matTooltip>
      <mat-icon svgIcon="restore"></mat-icon>
    </button>
  </section>

  <p class="mat-subtitle-2" i18n>To confirm the changes, please type "SAVE"</p>
  <mat-form-field appearance="outline">
    <mat-label i18n>Changes confirmation</mat-label>
    <input matInput [formControl]="form.get('confirm')" required />
  </mat-form-field>
  
  <mat-dialog-actions>
    <button mat-flat-button color="primary" [disabled]="form.invalid || form.get('confirm').value !== 'SAVE'" (click)="confirm()">
      <span i18n>Confirm Changes</span>
      <mat-icon iconPositionEnd svgIcon="arrow_forward"></mat-icon>
    </button>
    <button mat-button (click)="close()" i18n>
      Close window
    </button>
  </mat-dialog-actions>
</global-modal>