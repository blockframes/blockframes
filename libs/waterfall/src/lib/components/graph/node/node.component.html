
<ng-container *ngIf="node.type === 'source'">
  <waterfall-graph-source
    [source]="node" 
    [selected]="sourceSelection()"
    [canUpdate]="!nonEditableNodeIds.includes(node.id)"
    (handleSelect)="handleSelect.emit($event)"
    (addSibling)="addSibling.emit($event)"
    (addChild)="addChild.emit($event)"
  ></waterfall-graph-source>
</ng-container>

<ng-container *ngIf="node.type === 'right'">
  <waterfall-graph-right
    [right]="node"
    [selected]="rightSelection()"
    [nonEditableNodeIds]="nonEditableNodeIds"
    (handleSelect)="handleSelect.emit($event)"
    (addSibling)="addSibling.emit($event)"
    (addChild)="addChild.emit($event)"
  ></waterfall-graph-right>
</ng-container>

<ng-container *ngIf="node.type === 'vertical'">
  <waterfall-graph-vertical
    [vertical]="node"
    [selected]="verticalSelection()"
    [nonEditableNodeIds]="nonEditableNodeIds"
    (handleSelect)="handleSelect.emit($event)"
    (addSibling)="addSibling.emit($event)"
    (addChild)="addChild.emit($event)"
  ></waterfall-graph-vertical>
</ng-container>

<ng-container *ngIf="node.type === 'horizontal'">
  <waterfall-graph-horizontal
    [horizontal]="node"
    [selected]="selected"
    [nonEditableNodeIds]="nonEditableNodeIds"
    (handleSelect)="handleSelect.emit($event)"
    (addSibling)="addSibling.emit($event)"
    (addChild)="addChild.emit($event)"
  ></waterfall-graph-horizontal>
</ng-container>
