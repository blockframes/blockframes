<div fxFlex fxLayoutAlign="space-between center">
  <h3>Dashboard</h3>
  <div fxFlex fxLayoutGap="24px" fxLayoutAlign="end center">
    <button mat-icon-button>
      <mat-icon svgIcon="plus_circle"></mat-icon>
    </button>
    <button mat-icon-button>
      <mat-icon svgIcon="video_recorder"></mat-icon>
    </button>
    <button mat-icon-button>
      <mat-icon svgIcon="excel_export"></mat-icon>
    </button>
  </div>
</div>
<section class="surface carrousel-container">
  <div fxFlex fxLayoutAlign="space-between center">
    <h5>Lobster Film</h5>
    <button mat-flat-button>
      <span>See Analytics details</span>
      <mat-icon svgIcon="arrow_forward"></mat-icon>
    </button>
  </div>
  <span class="indicative-message">Some insights about your most popular title.</span>
  <span class="indicative-message">Published on Archipel Market: 01/25/2022</span>
  <bf-carousel flex layout>
    <analytics-pie-chart fxFlex [col]="2" class="surface" carouselItem [data]="orgActivity$ | async"></analytics-pie-chart>
    <analytics-map fxFlex [col]="2" class="surface" carouselItem [data]="territoryActivity$ | async"></analytics-map>
    <analytics-line-chart [col]="2" fxFlex class="surface" carouselItem [data]="lineChartData">
      <mat-icon svgIcon="analytics_interactions"></mat-icon>
      <h5>Interactions</h5>
    </analytics-line-chart>
    <analytics-line-chart [col]="2" [filmView]="true" fxFlex class="surface" carouselItem [data]="lineChartData">
      <mat-icon svgIcon="view_module"></mat-icon>
      <h5>Film Page View</h5>
    </analytics-line-chart>
  </bf-carousel>
  <button mat-flat-button class="see_titles">
    <span>View all Titles Activity</span>
    <mat-icon svgIcon="arrow_forward"></mat-icon>
  </button>
</section>



<!-- <ng-container *ngIf="titles$ | async as titles; else loading">
  <ng-container *ngIf="(hasAcceptedMovies$ | async) else noAcceptedMovies">
    <header fxLayout="row" fxLayoutAlign="space-between center">
      <h1>Dashboard</h1>
      <div fxLayout="row" fxLayoutAlign="center center" fxLayoutGap="24px">
        <a mat-stroked-button color="primary" routerLink="../title">
          <mat-icon svgIcon="video_library"></mat-icon>
          <span>View My Titles</span>
        </a>
      </div>
    </header>
    <section>
      <h3>My Marketplace Activity</h3>
      <ng-container *ngIf="titleAnalytics$ | async as titlesAnalytics; else loading">
        <movie-analytics-chart [analyticsData]="titlesAnalytics"></movie-analytics-chart>
      </ng-container>
      <a mat-button routerLink="../analytics" color="primary">More analytics</a>
    </section>
  </ng-container>

  <ng-template #noAcceptedMovies>
    <section fxLayout="column" fxLayoutAlign="center center">
      <ng-container *ngIf="(hasMovies$ | async) else noMovies">
        <h1>No title to display.</h1>
        <p class="mat-body-1">
          As long as you have no title to display, your organization will not appear on the marketplace.
          <br>
          You can either add several titles at once through bulk import, or just one at a time.
        </p>
        <p class="mat-body-2">
          N.B.: Only submitted projects will appear on the marketplace, not drafts.
        </p>

      </ng-container>
      <ng-template #noMovies>
        <dashboard-no-title></dashboard-no-title>
      </ng-template>
      <article fxLayout="row" fxLayout.lt-md="column" fxLayoutAlign="center" fxLayoutGap="24px">
        //Should only be shown for noAcceptedMovies && !noMovies
        <ng-container *ngIf="hasDraftMovies$ | async">
          <mat-card fxLayout="column" fxLayoutalign="center center">
            <img asset="add_draft.svg" alt="Manage Drafts">
            <a routerLink="../title" mat-button color="primary">Manage Drafts</a>
          </mat-card>
        </ng-container>
        <mat-card fxLayout="column" fxLayoutalign="center center">
          <img asset="add_title.svg" alt="Add title image">
          <a routerLink="../title/lobby" mat-button color="primary">Add one title</a>
        </mat-card>
        <mat-card fxLayout="column">
          <img asset="add_files.svg" alt="Upload files image">
          <a routerLink="../import" mat-button color="primary" test-id="import">Import titles in bulk</a>
        </mat-card>
      </article>
      <h3>Or</h3>
      <button (click)="openIntercom()" mat-flat-button color="primary">
        Contact the {{ app | appName }} team
      </button>
    </section>
  </ng-template>
</ng-container> -->
<ng-template #loading>
  <article fxLayout="column" fxLayoutAlign="center center">
    <mat-spinner color="primary"></mat-spinner>
  </article>
</ng-template>
