<ng-container *ngIf="titleAnalytics$ | async; else loading">
  <div fxFlex fxLayoutAlign="space-between center">
    <h3>Dashboard</h3>
    <div fxFlex fxLayoutGap="24px" fxLayoutAlign="end center">
      <button mat mat-fab color="default">
        <mat-icon svgIcon="add"></mat-icon>
      </button>
      <button mat-fab color="default">
        <mat-icon svgIcon="movie"></mat-icon>
      </button>
      <button mat-fab color="default">
        <mat-icon svgIcon="excel"></mat-icon>
      </button>
    </div>
  </div>
  <section class="surface carrousel-container">
    <div fxFlex fxLayoutAlign="space-between center">
      <h5>Lobster Film</h5>
      <button mat-flat-button>
        <span>See Analytics details</span>
        <mat-icon svgIcon="arrow_forward"></mat-icon>
      </button>
    </div>
    <span class="indicative-message">Some insights about your most popular title.</span>
    <span class="indicative-message">Published on Archipel Market: 01/25/2022</span>
    <bf-carousel flex layout>
      <analytics-pie-chart fxFlex [col]="6" class="surface" carouselItem [data]="orgActivity$ | async">
      </analytics-pie-chart>
      <analytics-map fxFlex [col]="6" class="surface" carouselItem [data]="territoryActivity$ | async"></analytics-map>
    </bf-carousel>
    <button mat-flat-button class="see_titles">
      <span>View all Titles Activity</span>
      <mat-icon svgIcon="arrow_forward"></mat-icon>
    </button>
  </section>
</ng-container>
<ng-template #loading>
  <article fxLayout="column" fxLayoutAlign="center center">
    <mat-spinner color="primary"></mat-spinner>
  </article>
</ng-template>
