<section [ngSwitch]="step">
  <article dropZone (dropped)="filesSelected($event)" *ngSwitchCase="'drop'" @zoomDelay>
    <mat-icon fontSet="material-icons-outlined">cloud_upload</mat-icon>
    <h1>Drop something here</h1>
  </article>
  <article class="cropper" *ngSwitchCase="'crop'" @zoomDelay>
    <image-cropper
      [imageFile]="file"
      [maintainAspectRatio]="true"
      [aspectRatio]="ratio"
      (imageCropped)="imageCropped($event)"
    ></image-cropper>
    <div class="buttons">
      <button mat-icon-button color="primary" (click)="cropIt()">
        <mat-icon>check_circle</mat-icon>
      </button>
      <button mat-icon-button color="warn" (click)="nextStep(prev)">
        <mat-icon>cancel</mat-icon>
      </button>
    </div>
  </article>
  <article *ngSwitchCase="'upload'" @zoomDelay>
    <div *ngIf="( percentage$ | async ) as percentage">
      <mat-progress-spinner class="example-margin" color="primary" mode="determinate" [value]="percentage$ | async">
      </mat-progress-spinner>
      <p>{{ percentage }}% uploading....</p>
    </div>
  </article>
  <article *ngSwitchCase="'upload_complete'">
    <svg width="100" height="100" viewBox="0 0 200 200" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path
        @check
        (@check.done)="goToShow()"
        class="check-path"
        d="M34 100L74 140L167 47"
        stroke="#3f51b5"
        stroke-width="17"
      />
    </svg>
  </article>
  <article class="show" *ngSwitchCase="'show'" @finalZoom>
    <div class="show" *ngIf="url$ | async as url">
      <img class="show-show" [src]="url" />
    </div>
    <div class="buttons">
      <input #fileUploader multiple hidden type="file" (change)="filesSelected($event.target.files)" />
      <button mat-flat-button (click)="nextStep('crop')">resize</button>
      <button mat-flat-button (click)="fileUploader.click()">edit</button>
      <button mat-flat-button (click)="delete()">delete</button>
    </div>
  </article>
</section>
