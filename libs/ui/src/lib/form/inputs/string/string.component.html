<mat-form-field [formGroup]="form" [class]="class">
  <input matInput [type]="type" [placeholder]="placeholder" [formControlName]="name" [required]="required" [errorStateMatcher]="matcher ? matcher : undefined"/>
  <mat-error *ngIf="form.get(name).hasError('required')">
    {{ name }} is <strong>required</strong>
  </mat-error>
  <mat-error *ngIf="matcher && form.hasError('bothEmpty')">
    Both fields <strong>cannot be setted</strong> at the same time.
  </mat-error>
  <mat-error *ngIf="form.get(name).hasError('pattern')">
    Invalid pattern.
  </mat-error>
</mat-form-field>