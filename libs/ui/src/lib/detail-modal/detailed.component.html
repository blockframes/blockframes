<global-modal>
  <ng-container *ngIf="groups$ | async as groups">
    <header>
      <h2>{{ (data.scope === 'medias' ? 'rights' : data.scope) | titlecase }}</h2>
      <button *ngIf="!!groups.length" mat-icon-button type="button" (click)="copy()" matTooltip="Copy in clipboard">
        <mat-icon svgIcon="file_copy"></mat-icon>
      </button>
    </header>
    <section>
      <ng-container *ngIf="!!groups.length; else default">
        <ng-container *ngFor="let group of groups">
          <article *ngIf="group.items.length">
            <p class="mat-subtitle-2">{{ group.label }}</p>
            <mat-chip-listbox>
              <mat-chip-option disableRipple *ngFor="let item of group.items">
                {{ item | toLabel: data.scope }}
              </mat-chip-option>
            </mat-chip-listbox>
          </article>
        </ng-container>
      </ng-container>
      <ng-template #default>
        <mat-chip-listbox>
          <mat-chip-option disableRipple *ngFor="let item of data.items">
            {{ item | toLabel: data.scope }}
          </mat-chip-option>
        </mat-chip-listbox>
      </ng-template>
    </section>
  </ng-container>
</global-modal>
