<global-modal>
  <ng-container *ngIf="groups$ | async as groups">
    <header>
      <h2>{{ data.scope | toLabel : 'groups' : data.bfi18n }}</h2>
      <button *ngIf="!!groups.length" mat-icon-button type="button" (click)="copy()" matTooltip="Copy in clipboard" i18n-matTooltip>
        <mat-icon svgIcon="file_copy"></mat-icon>
      </button>
    </header>
    <section>
      <ng-container *ngIf="!!groups.length; else default">
        <ng-container *ngFor="let group of groups">
          <article *ngIf="group.items.length">
            <p class="mat-subtitle-2">{{ group.label }}</p>
            <mat-chip-listbox>
              <mat-chip disableRipple *ngFor="let item of group.items">
                {{ item | toLabel: data.scope : data.bfi18n }}
              </mat-chip>
            </mat-chip-listbox>
          </article>
        </ng-container>
      </ng-container>
      <ng-template #default>
        <mat-chip-listbox>
          <mat-chip disableRipple *ngFor="let item of data.items">
            {{ item | toLabel: data.scope : data.bfi18n }}
          </mat-chip>
        </mat-chip-listbox>
      </ng-template>
    </section>
  </ng-container>
</global-modal>
