<editable-sidenav (closed)="opened = false" [opened]="opened" (saved)="updateMaterials()" page-id="template-editable">
  <!-- Content -->
  <ng-container content>
    <article fxLayout="row" fxLayoutAlign="none center">
      <h2 *ngIf="(template$ | async) as template">{{ template.name }}</h2>
      <mat-divider fxFlex></mat-divider>
      <button mat-stroked-button color="primary" (click)="addMaterial()" test-id="add">
        <mat-icon>add</mat-icon>
        Add material
      </button>
    </article>
    <template-material-list [materials]="materials$ | async" (editing)="openSidenav($event)" page-id="template-material-list">
    </template-material-list>
  </ng-container>
  <!-- Sidenav -->
  <ng-container *ngIf="(activeForm$ | async) as materialFormGroup" sidenav>
    <template-material-form
      page-id="template-form"
      [formGroup]="materialFormGroup"
      (delete)="deleteMaterial($event)"
    ></template-material-form>
  </ng-container>
</editable-sidenav>
