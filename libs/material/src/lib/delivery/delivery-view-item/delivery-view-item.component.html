<mat-card
  [ngClass]="{ 'materials-disabled': !!disableMaterial }"
  class="materials-block mat-elevation-z6"
  fxLayout="row"
  fxLayoutGap="20px"
>
  <mat-checkbox
    fxLayoutAlign="center center"
    color="primary"
    [(ngModel)]="isChecked"
    [disabled]="!!disableMaterial"
    (click)="!disableMaterial && selectMaterial()"
  >
  </mat-checkbox>
  <article class="material" fxLayout="column" fxLayoutAlign="center start">
    <div>
      <h4 mat-line>{{ material.value }}</h4>
    </div>
    <mat-expansion-panel
      [ngClass]="{ 'expansion-panel-disabled': !!disableMaterial }"
      [expanded]="isOpen"
      class="mat-elevation-z0 panel"
    >
      <p mat-line class="description-text">{{ material.description }}</p>
    </mat-expansion-panel>
    <div fxLayout="row" fxLayoutAlign="start center" class="buttons">
      <button
        [ngClass]="{ 'toggle-disabled': !!disableMaterial }"
        class="toggle mat-elevation-z0"
        mat-raised-button
        (click)="!disableMaterial && panelToggle()"
      >
        {{ panelButtonLabel }}
      </button>
      <span class="divider">|</span>
      <button
        [ngClass]="{ 'disable-disabled': !!disableMaterial }"
        class="disable mat-elevation-z0"
        mat-raised-button
        (click)="disableToggle()"
      >
        {{ disableButtonLabel }}
      </button>
    </span>
  </div>
  <div class="informations" fxLayout="row" fxLayoutAlign="space-around none">
    <span *ngIf="!disableMaterial && !!material.step" class="material-step">
      <h5>Step :</h5>
      <p class="material-step-text">{{material.step.name}}</p>
    </div>
    <div class="state" fxLayout="column">
      <h5>State :</h5>
      <mat-icon class="icons" matTooltip="{{ material.state.toUpperCase() }}" svgIcon="{{ material.state }}"></mat-icon>
      <a *ngIf="material.state === 'available'" href="assets/apps/delivery.svg" download>
        <mat-icon color="primary" class="download-icon">cloud_download</mat-icon>
      </a>
    </div>
    <div *ngIf="!disableMaterial && material.state === 'delivered'" class="time">
      <h5>Accepted in :</h5>
      <p class="time-text">45 days</p>
    </div>
    <div *ngIf="!disableMaterial && material.state === 'refused'" class="time">
      <h5>Refused in :</h5>
      <p class="time-text">30 days</p>
    </div>
    <div class="payment">
      <h5>Payment :</h5>
      <mat-icon class="icons" svgIcon="{{ paymentIcon }}"></mat-icon>
    </div>
  </article>
</mat-card>
