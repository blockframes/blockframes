
<h2>Ip explorer</h2>
<mat-toolbar (click)="add()">
  <mat-icon>add</mat-icon>
  <h3>New Ip</h3>
</mat-toolbar>

<!-- Action on all selected -->
<mat-toolbar fxLayout="row" fxLayoutAlign="space-between center">
  <mat-checkbox [checked]="isAllSelected" [indeterminate]="isIndeterminate" (change)="toggleAll($event)"></mat-checkbox>
  <div *ngIf="selected.length > 0">
    <button (click)="remove(selected)" mat-icon-button>
      <mat-icon>delete</mat-icon>
    </button>
  </div>
</mat-toolbar>

<!-- List of IPs -->
<mat-nav-list>
  <mat-list-item [routerLink]="['/c', 'ip', ip.id]" *ngFor="let ip of (ipList$ | async); let i = index">
    <mat-checkbox [checked]="selected.includes(ip.id)" (change)="toggleOne($event, ip.id)" (click)="$event.stopPropagation()"></mat-checkbox>
    <p>{{ ip.title }}</p>
  </mat-list-item>
</mat-nav-list>

<!-- Current IP form -->
<mat-nav-list>
  <mat-list-item [routerLink]="['/c', 'ip', ip.id, 'edit']" *ngIf="(ipForm$ | async) as ip">
    <mat-icon mat-list-icon>create</mat-icon>
    <p>{{ ip.title }}</p>
  </mat-list-item>
</mat-nav-list>
