<ng-template pageBar>
  <header fxLayout fxLayoutAlign="space-between center">
    <a mat-icon-button routerLink="../..">
      <mat-icon svgIcon="arrow_back"></mat-icon>
    </a>
    <div fxLayout fxLayoutAlign="end center">
      <button type="button" mat-button color="warn" (click)="remove()">Delete</button>
      <ng-container *ngIf="form.dirty else disabled">
        <button type="submit" mat-stroked-button color="primary" (click)="save()" test-id="event-save">Save</button>
      </ng-container>
      <ng-template #disabled>
        <button mat-button disabled>Save</button>
      </ng-template>
    </div>
  </header>
</ng-template>

<form [formGroup]="form">
  <section fxLayout="column" fxLayoutGap="24px">
    <a fxFlexAlign="center" mat-stroked-button color="primary" [routerLink]="eventLink">Go to Event Page</a>
    <h2>Details</h2>
    <mat-card class="details" fxLayout="column" fxFlex="65">
      <event-details-edit [form]="form"></event-details-edit>
    </mat-card>

    <nav mat-tab-nav-bar>
      <ng-container *ngFor="let tab of tabs[form.value.type]">
        <a mat-tab-link [routerLink]="tab.path">{{ tab.label }}</a>
      </ng-container>
    </nav>
  </section>
</form>

<router-outlet></router-outlet>