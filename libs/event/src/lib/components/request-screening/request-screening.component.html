<ng-container *ngIf="requestStatus | async as status">
  <ng-container *ngIf="iconOnly else button">
    <button mat-icon-button class="translucent" [disabled]="status !== 'available'" (click)="requestScreening()">
      <ng-container *ngTemplateOutlet="icon"></ng-container>
    </button>
  </ng-container>
  <ng-template #button>
    <button mat-button class="translucent" [disabled]="status !== 'available'" (click)="requestScreening()">
      <ng-container *ngTemplateOutlet="icon"></ng-container>
      {{ screeningRequest[status] }}
    </button>
  </ng-template>

  <ng-template #icon>
    <ng-container *ngIf="status === 'sending'; else icon">
      <mat-spinner diameter="24" *ngIf="status === 'sending'"></mat-spinner>
    </ng-container>
    <ng-template #icon>
      <mat-icon *ngIf="status === 'available'" svgIcon="ask_screening_2" [matTooltip]="screeningRequest[status]"></mat-icon>
      <mat-icon *ngIf="status === 'sent'" svgIcon="ask_screening_2" [matTooltip]="screeningRequest[status]" color='disabled'></mat-icon>
    </ng-template>
  </ng-template>
</ng-container>
