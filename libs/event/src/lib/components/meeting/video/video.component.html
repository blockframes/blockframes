
<video #video [ngClass]="{ hidden: (remoteTrackState$.video | async) === false || (localTrackState$.video | async) === false, mirrored: local }"></video>
<audio #audio></audio>

<svg *ngIf="(remoteTrackState$.video | async) === false || (localTrackState$.video | async) === false" viewBox="0 0 100 100">
  <circle cx="50" cy="50" r="32" />
  <text x="50" y="59" text-anchor="middle">{{userInitials}}</text>
</svg>

<span class="name">{{name}}</span>

<div class="controls" *ngIf="!local">
  <button mat-icon-button (click)="toggleLocalState('audio')" [disabled]="(remoteTrackState$.audio | async) === false">
    <mat-icon *ngIf="localTrackState$.audio | async" svgIcon="volume_up" matTooltip="Mute video"></mat-icon>
    <mat-icon *ngIf="(localTrackState$.audio | async) === false" svgIcon="volume_off" matTooltip="Unmute video"></mat-icon>
  </button>
  <button mat-icon-button (click)="toggleLocalState('video')" [disabled]="(remoteTrackState$.video | async) === false">
    <mat-icon *ngIf="localTrackState$.video | async" svgIcon="visibility"></mat-icon>
    <mat-icon *ngIf="(localTrackState$.video | async) === false" svgIcon="visibility_off"></mat-icon>
  </button>
</div>

