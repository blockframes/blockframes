
<section class="video">
  <ng-container *ngIf="attendees$ | async as attendees">
    <div [gdColumns]="attendees.length | roomColumns" >
      <meeting-video *ngFor="let attendee of attendees"  [attendee]="attendee"></meeting-video>
    </div>
  </ng-container>
</section>
<section class="controls" *ngIf="(local$ | async) as local" fxLayout="row" fxLayoutAlign="center center">
  <ng-container *ngIf="local.tracks.video as videoTrack">
    <button mat-fab color="primary" (click)="toggleLocalTrack('video')">
      <mat-icon *ngIf="videoTrack.isEnabled" svgIcon="videocam"></mat-icon>
      <mat-icon *ngIf="!videoTrack.isEnabled" svgIcon="videocam_off"></mat-icon>
    </button>
  </ng-container>
  <ng-container *ngIf="!local.tracks.video">
    <span matTooltip="Your browser don't have the permission to access the camera">
      <button mat-fab disabled>
        <mat-icon svgIcon="videocam"></mat-icon>
      </button>
    </span>
  </ng-container>

  <ng-container *ngIf="local.tracks.audio as audioTrack">
    <button mat-fab color="primary" (click)="toggleLocalTrack('audio')">
      <mat-icon *ngIf="audioTrack.isEnabled" svgIcon="unmute"></mat-icon>
      <mat-icon *ngIf="!audioTrack.isEnabled" svgIcon="mute"></mat-icon>
    </button>
  </ng-container>
  <ng-container *ngIf="!local.tracks.audio">
    <span matTooltip="Your browser don't have the permission to access the microphone">
      <button mat-fab disabled>
        <mat-icon svgIcon="unmute"></mat-icon>
      </button>
    </span>
  </ng-container>

  <button mat-fab color="accent" matTooltip="Quit the Meeting" (click)="quitMeeting()">
    <mat-icon svgIcon="call_end"></mat-icon>
  </button>
</section>
