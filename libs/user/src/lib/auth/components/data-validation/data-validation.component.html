<section>
  <article fxLayout fxLayoutAlign="space-between center">
    <div fxLayout>
      <img class="illustration" asset="user.svg" alt="user profile ilustration" />
      <p>Profile Data</p>
      <mat-icon class="icon-tooltip" svgIcon="info"
        matTooltip="Fill in your Personal Information (First Name, Last Name...)"></mat-icon>
    </div>
    <mat-icon *ngIf="profileData" svgIcon="check_circle" color="primary" test-id="profile-data-ok"></mat-icon>
    <mat-icon *ngIf="!profileData" class="refresh-icon" (click)="refresh()" svgIcon="update" matTooltip="Refresh page." test-id="profile-data-pending">
    </mat-icon>
  </article>

  <mat-divider inset></mat-divider>

  <article fxLayout fxLayoutAlign="space-between center">
    <div fxLayout>
      <img class="illustration" asset="org.svg" alt="organization illustration" />
      <p>Organization Data</p>
      <mat-icon class="icon-tooltip" svgIcon="info"
        matTooltip="Fill in your Company Information (Activity, Country...)"></mat-icon>
    </div>
    <mat-icon *ngIf="orgData" svgIcon="check_circle" color="primary" test-id="org-data-ok"></mat-icon>
    <mat-icon *ngIf="!orgData" class="refresh-icon" (click)="refresh()" svgIcon="update" matTooltip="Refresh page." test-id="org-data-pending">
    </mat-icon>
  </article>

  <mat-divider inset></mat-divider>

  <article fxLayout fxLayoutAlign="space-between center">
    <div fxLayout>
      <img class="illustration" asset="contact.svg" alt="enveloppe illustration" />
      <p>Email Validation</p>
      <mat-icon class="icon-tooltip" svgIcon="info" matTooltip="Click the link provided in your verification email.">
      </mat-icon>
    </div>
    <ng-container *ngIf="emailValidate$ | async; else notValid">
      <mat-icon svgIcon="check_circle" color="primary" test-id="email-ok"></mat-icon>
    </ng-container>
    <ng-template #notValid>
      <mat-icon class="refresh-icon" color="primary" (click)="resendEmailVerification()" svgIcon="resend_email" matTooltip="Resend verification email." test-id="email-pending"></mat-icon>
    </ng-template>
  </article>

  <mat-divider inset></mat-divider>

  <article fxLayout fxLayoutAlign="space-between center">
    <div fxLayout>
      <img class="illustration" asset="org_approval.svg" alt="organization illustration" />
      <p>Organization Approval</p>
      <mat-icon class="icon-tooltip" svgIcon="info"
        matTooltip="Please wait for the approval of the company information you provided."></mat-icon>
    </div>
    <mat-icon *ngIf="orgApproval" svgIcon="check_circle" color="primary" test-id="org-approval-ok"></mat-icon>
    <mat-icon *ngIf="!orgApproval" class="refresh-icon" (click)="refresh()" svgIcon="update" matTooltip="Refresh page." test-id="org-approval-pending">
    </mat-icon>
  </article>
</section>

<article fxLayout="column">
  <button mat-flat-button color="primary" (click)="openIntercom()" fxHide.lt-sm="true" test-id="contact-desktop">Contact {{ app | appName }}
    Team</button>
  <button mat-flat-button color="primary" (click)="openIntercom()" fxHide.gt-xs="true" test-id="contact-mobile">Contact Us</button>
  <button mat-button color="primary" (click)="refresh()" test-id="refresh">Refresh Page</button>
</article>
