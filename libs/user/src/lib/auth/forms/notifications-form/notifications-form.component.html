<!-- <section class="surface">
  <h2>General Notifications</h2>

  <article fxLayout="row" fxLayoutAlign="space-between">
    <p>Receive all general notifications :</p>
    <div fxLayout="row" fxLayoutGap="40px">
      <mat-slide-toggle color="primary" labelPosition="before" [checked]="form.get('eventIsAboutToStart').get('email').value" name="email" (change)="toogle('eventIsAboutToStart', $event)">Email :</mat-slide-toggle>
      <mat-slide-toggle color="primary" labelPosition="before" [checked]="form.get('eventIsAboutToStart').get('app').value" name="app" (change)="toogle('eventIsAboutToStart', $event)">App :</mat-slide-toggle>
    </div>
  </article>
  <article fxLayout="row" fxLayoutAlign="space-between">
    <p>oneDayReminder :</p>
    <div fxLayout="row" fxLayoutGap="40px">
      <mat-slide-toggle color="primary" labelPosition="before" [checked]="form.get('oneDayReminder').get('email').value" name="email" (change)="toogle('oneDayReminder', $event)">Email :</mat-slide-toggle>
      <mat-slide-toggle color="primary" labelPosition="before" [checked]="form.get('oneDayReminder').get('app').value" name="app" (change)="toogle('oneDayReminder', $event)">App :</mat-slide-toggle>
    </div>
  </article>

  <article fxLayout="row" fxLayoutAlign="space-between">
    <p>memberAddedToOrg :</p>
    <div fxLayout="row" fxLayoutGap="40px">
      <mat-slide-toggle color="primary" labelPosition="before" [checked]="form.get('memberAddedToOrg').get('email').value" name="email" (change)="toogle('memberAddedToOrg', $event)">Email :</mat-slide-toggle>
      <mat-slide-toggle color="primary" labelPosition="before" [checked]="form.get('memberAddedToOrg').get('app').value" name="app" (change)="toogle('memberAddedToOrg', $event)">App :</mat-slide-toggle>
    </div>
  </article>

  <article fxLayout="row" fxLayoutAlign="space-between">
    <p>memberRemovedFromOrg :</p>
    <div fxLayout="row" fxLayoutGap="40px">
      <mat-slide-toggle color="primary" labelPosition="before" [checked]="form.get('memberRemovedFromOrg').get('email').value" name="email" (change)="toogle('memberRemovedFromOrg', $event)">Email :</mat-slide-toggle>
      <mat-slide-toggle color="primary" labelPosition="before" [checked]="form.get('memberRemovedFromOrg').get('app').value" name="app" (change)="toogle('memberRemovedFromOrg', $event)">App :</mat-slide-toggle>
    </div>
  </article>

  <article fxLayout="row" fxLayoutAlign="space-between">
    <p>requestFromUserToJoinOrgCreate :</p>
    <div fxLayout="row" fxLayoutGap="40px">
      <mat-slide-toggle color="primary" labelPosition="before" [checked]="form.get('requestFromUserToJoinOrgCreate').get('email').value" name="email" (change)="toogle('requestFromUserToJoinOrgCreate', $event)">Email :</mat-slide-toggle>
      <mat-slide-toggle color="primary" labelPosition="before" [checked]="true" [disabled] = true name="app">App :</mat-slide-toggle>
    </div>
  </article>
</section> -->
<section class="surface general">
  <h2>Notifications Settings</h2>
  <article fxLayout="row" fxLayoutAlign="space-between">
    <p>Activate all the notifications :</p>
    <div fxLayout="row" fxLayoutGap="32px">
      <mat-slide-toggle
        color="primary"
        labelPosition="before"
        name="email"
        checked="true"
        (change)="toogleAll($event)">
        By Email:
      </mat-slide-toggle>
      <mat-slide-toggle
        color="primary"
        labelPosition="before"
        name="app"
        checked="true"
        (change)="toogleAll($event)">
        In App:
      </mat-slide-toggle>
    </div>
  </article>
</section>

<section class="surface" *ngFor="let row of notifications, let index = index">
  <table>
      <tbody *ngIf="showNotifications(index)">
        <tr>
          <th class="description"><h2>{{ row.title }}</h2></th>
          <th><mat-checkbox color="primary" [indeterminate]="someComplete(index, 'email')" [checked]="row.completed.email" (change)="setAll($event.checked, index, 'email')"></mat-checkbox>By email</th>
          <th><mat-checkbox color="primary" [indeterminate]="someComplete(index, 'app')" [checked]="row.completed.app" (change)="setAll($event.checked, index, 'app')"></mat-checkbox>In App</th>
        </tr>
        <tr><span class="mat-caption">Receive notifications when:</span></tr>
        <tr *ngFor="let subrow of row.subNotification, let subIndex = index">
          <td class="description">{{ subrow.subtitle }}</td>
          <td><mat-checkbox color="primary" [checked]="subrow.email" name="emailCheckbox" (change)="updateAllComplete(index, subIndex, $event, 'email')"></mat-checkbox></td>
          <td><mat-checkbox color="primary" [checked]="subrow.app" name="appCheckbox" (change)="updateAllComplete(index, subIndex, $event, 'app')"></mat-checkbox></td>
        </tr>
      </tbody>
  </table>
</section>
