<ng-container *ngIf="(user$ | async) as user; else: profileLoading">
  <mat-card-title>Picture</mat-card-title>
  <!-- TODO: issue#579 import picture -->
  <div fxLayoutAlign="center">
    <img
      mat-card-image
      src="https://material.angular.io/assets/img/examples/shiba2.jpg"
      alt="Photo of a Shiba Inu"
    />
  </div>
  <mat-card-actions fxLayout="column" fxLayoutAlign="center center">
    <button mat-raised-button color="accent">Import a picture</button>
    <button mat-button color="primary">Delete this picture</button>
  </mat-card-actions>
  <mat-divider></mat-divider>
  <mat-card-content>
    <form [formGroup]="accountForm" (ngSubmit)="updateProfile()" fxLayout="column" fxLayoutAlign="space-around center">
      <mat-card-title>Identity</mat-card-title>
      <mat-form-field appearance="outline">
        <mat-label>Name</mat-label>
        <input matInput placeholder="Name" type="text" formControlName="name" />
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>Surname</mat-label>
        <input matInput placeholder="Surname" type="text" formControlName="surname" />
      </mat-form-field>
      <mat-divider></mat-divider>
      <mat-card-title>Informations</mat-card-title>
      <mat-form-field appearance="outline">
        <mat-label>Phone number</mat-label>
        <input matInput placeholder="Phone number" type="tel" formControlName="phoneNumber" />
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>Email</mat-label>
        <input matInput placeholder="Email" type="email" formControlName="email" />
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>Position</mat-label>
        <input matInput placeholder="Position" type="text" formControlName="position" />
      </mat-form-field>
      <button mat-raised-button type="submit" color="accent">Update</button>
    </form>
  </mat-card-content>
</ng-container>
<ng-template #profileLoading>
  <div fxLayout="column" fxLayoutAlign="center center">
    <p>Your Profile is loading...</p>
    <mat-progress-spinner mode="indeterminate"></mat-progress-spinner>
  </div>
</ng-template>
