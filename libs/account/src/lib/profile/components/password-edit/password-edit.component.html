<article fxLayout="column" fxLayoutAlign="center center">
  <mat-card>
    <mat-card-header fxLayout="row" fxLayoutAlign="end center">
      <button (click)="closed.emit()" color="primary" mat-icon-button>
        <mat-icon>close</mat-icon>
      </button>
    </mat-card-header>
    <mat-divider></mat-divider>
    <mat-card-title>Password</mat-card-title>
    <mat-card-content>
      <form fxLayout="column" fxLayoutAlign="start center" [formGroup]="form" (ngSubmit)="update()">
        <mat-form-field appearance="outline">
          <input matInput type="password" placeholder="Current password" formControlName="current" required />
          <mat-hint>Between 6 and 24 characters.</mat-hint>
          <mat-error *ngIf="form.get('current').hasError('required')">
            Password is <strong>required</strong>.
          </mat-error>
          <mat-error *ngIf="form.get('current').hasError('minlength')">
            Password with less than <strong>6</strong> characters.
          </mat-error>
          <mat-error *ngIf="form.get('current').hasError('maxlength')">
            Password with more than <strong>24</strong> characters.
          </mat-error>
        </mat-form-field>
        <password-confirm formControlName="next"></password-confirm>
        <button type="submit" mat-raised-button color="accent">Submit your new password</button>
      </form>
    </mat-card-content>
  </mat-card>
</article>
