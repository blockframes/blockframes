<ng-container *ngIf="user; else: loading">
  <mat-card [ngClass]="{ 'mat-card-opened': opened }" fxLayout="column" fxLayoutAlign="center">
    <mat-card-content fxLayout="row" fxLayoutAlign="center center" fxLayout.lt-md="column" [fxLayout.lt-lg]="layout">
      <img mat-card-avatar [placeholderUrl]="placeholderUrl" [imgRef]="user.avatar" alt="Profile picture" />
      <article class="information" fxLayout="column" fxLayoutAlign="start start">
        <div class="column-padding-bottom">
          <h3>{{ user.name }}</h3><span>{{ user.surname }}</span>
        </div>
        <div fxLayout="column" class="column-padding">
          <p>
            <span class="bf-dark-text">Phone number: </span>{{ user.phoneNumber }}</p>
            <p><span class="bf-dark-text">Email: </span>{{ userEmail }}</p>
            <p><span class="bf-dark-text">Organization: </span>{{ organization.denomination.full }}</p>
            <p><span class="bf-dark-text">Position: </span>{{ user.position }}</p>
        </div>
        <div class="action-button">
          <button mat-icon-button (click)="editing.emit('password')" color="primary">
            <mat-icon svgIcon="changePass"></mat-icon>
          </button>
          <button mat-icon-button (click)="editing.emit('profile')" color="primary">
            <mat-icon fontSet="material-icons-outlined">edit</mat-icon>
          </button>
        </div>
      </article>
    </mat-card-content>
  </mat-card>
</ng-container>
<ng-template #loading>
  <div fxLayout="column" fxLayoutAlign="center center">
    <p>Your Profile is loading...</p>
    <mat-progress-spinner mode="indeterminate"></mat-progress-spinner>
  </div>
</ng-template>
