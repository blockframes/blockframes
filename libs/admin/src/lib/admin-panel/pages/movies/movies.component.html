<section fxLayout="column">
  <h1><a routerLink="/c/o/admin/panel/">Administration panel</a> > Movie list</h1>

  <bf-table-filter
    [source]="rows"
    [columns]="versionColumns"
    [initialColumns]="initialColumns"
    [filterPredicate]="filterPredicate"
    showFilter
    showLoader
    [pageSize]="100"
    showPaginator>
    <ng-template colRef="promotionalElements.poster" let-posters>
      <ng-container *ngIf="posters[0] && posters[0].media as poster;">
        <bf-img class="poster" [ref]="poster" asset="empty_poster.webp"></bf-img>
      </ng-container>
    </ng-template>
    <ng-template colRef="id" let-id>
      <a target="_blank" [routerLink]="['/c/o/dashboard/tunnel/movie', id, 'main']" routerLinkActive="active"> {{ id }}</a>
    </ng-template>
    <ng-template colRef="distributionRights" let-distributionRights>
      {{ distributionRights.length }}
    </ng-template>
    <ng-template colRef="distributionRightsInfo" let-distributionRightsInfo>
      <ng-container *ngIf="distributionRightsInfo.count else noRights">
        <a [routerLink]="distributionRightsInfo.link" routerLinkActive="active"><mat-icon svgIcon="launch"></mat-icon></a> ({{ distributionRightsInfo.count }})
      </ng-container>
      <ng-template #noRights>
        --
      </ng-template>
    </ng-template>
    <ng-template colRef="contractsInfo" let-contractsInfo>
      <ng-container *ngIf="contractsInfo.count else noRights">
        <a [routerLink]="contractsInfo.link" routerLinkActive="active"><mat-icon svgIcon="launch"></mat-icon></a> ({{ contractsInfo.count }})
      </ng-container>
      <ng-template #noRights>
        --
      </ng-template>
    </ng-template>
    <ng-template colRef="edit" let-edit>
      <a [routerLink]="edit.link"><mat-icon svgIcon="pencil"></mat-icon></a>
    </ng-template>
    <ng-template colRef="main.storeConfig.status" let-storeStatus>
      {{ storeStatus | toLabel: 'storeStatus' | async }}
    </ng-template>
    <ng-template colRef="main.storeConfig.storeType" let-storeType>
      {{ storeType | toLabel: 'storeType' | async }}
    </ng-template>
  </bf-table-filter>
</section>


