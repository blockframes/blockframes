<section
  fxLayout="row"
  fxLayoutAlign="center start"
  fxLayout.lt-md="column"
  fxLayoutAlign.lt-md="center center">
  <img src="/assets/images/dark_rocket.png" alt="Rocket taking off in the air" />
  <article>
    <h2>Create your organization</h2>
    <form [formGroup]="form" (ngSubmit)="addOrganization()">
      <h3>Your company</h3>
      <mat-form-field appearance="outline">
        <mat-label>Organization name</mat-label>
        <input
          matInput
          placeholder="Organization name"
          aria-label="organization name"
          formControlName="name"
          required
        />
        <mat-error *ngIf="notProvided">You must enter a name</mat-error>
        <mat-error *ngIf="notUnique">{{ name }} is already taken, please use another name</mat-error>
      </mat-form-field>

      <h3>Contact information</h3>
      <mat-form-field appearance="outline">
        <mat-label>Company phone number</mat-label>
        <input
          matInput
          placeholder="Company phone number"
          aria-label="company phone number"
          formControlName="phoneNumber"
        />
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>Contact email address</mat-label>
        <input
          matInput
          placeholder="Contact email address"
          aria-label="contact email address"
          formControlName="email"
        />
        <mat-error *ngIf="form.get('email').hasError('email')">Email not valid</mat-error>
      </mat-form-field>

      <h3>Activity details</h3>
      <mat-form-field appearance="outline">
        <mat-label>Activity description</mat-label>
        <input matInput placeholder="Activity description" aria-label="activity description" formControlName="activity" />
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>Fiscal number</mat-label>
        <input
          matInput
          placeholder="Fiscal number"
          aria-label="fiscal number"
          formControlName="fiscalNumber"
        />
      </mat-form-field>
      <h3>Logo</h3>
      <drop-cropper [ratio]="4/3" formControlName="logo"></drop-cropper>
      <div fxLayout="column" fxLayoutAlign="center center">
        <button mat-flat-button type="submit" color="primary">
          <ng-container *ngIf="(loading$ | async); else: notLoading">
            <mat-progress-spinner
              mode="indeterminate"
              color="accent"
              diameter="20"
            ></mat-progress-spinner>
          </ng-container>
          <ng-template #notLoading>Submit</ng-template>
        </button>
        <button class="cancel" mat-button color="accent" type="button" (click)="clear()">
          Cancel
        </button>
      </div>
    </form>
  </article>
</section>
