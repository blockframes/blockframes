<ng-container *ngIf="AFM_DISABLE else AFM_DISABLED"> <!-- TODO #1146 -->
  <button mat-menu-item *ngIf="(organization$ | async) as organization; else: noOrg"
    [routerLink]="['o/organization/', organization.id]" routerLinkActive="active-list-item"
    test-id="manage-organization">
    <mat-icon>domain</mat-icon>
    <span>My organization</span>
  </button>
  <mat-divider></mat-divider>
  <button mat-menu-item *ngIf="(organization$ | async) as organization; else: noOrg"
    [routerLink]="['o/organization/', organization.id, 'members']" routerLinkActive="active-list-item"
    test-id="manage-organization">
    <mat-icon>card_membership</mat-icon>
    <span>Organization members</span>
  </button>
</ng-container>
<ng-template #AFM_DISABLED>
  <button mat-menu-item *ngIf="(organization$ | async) as organization; else: noOrg"
    [routerLink]="['o/organization/', organization.id]" routerLinkActive="active-list-item"
    test-id="manage-organization">
    <mat-icon>domain</mat-icon>
    <span>Manage my organization</span>
  </button>
</ng-template>

<ng-template #noOrg>
  <button mat-menu-item routerLink="o/organization/form">
    <mat-icon>add_circle</mat-icon>
    <span>Create</span>
  </button>
</ng-template>