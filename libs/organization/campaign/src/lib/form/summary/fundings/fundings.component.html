<article>
  <h6>
    Financing Plan
    <a mat-icon-button [routerLink]="link">
      <mat-icon svgIcon="pencil" color="primary"></mat-icon>
    </a>
  </h6>

  <div>
    <strong>Total amount: </strong>
    <span>{{ fundings | totalFundings | bigCurrency }}</span>
  </div>
  <div fxLayout="column">
    <strong>Fundings</strong>
    <bf-table-filter [source]="fundings" [columns]="columns" [initialColumns]="initialColumns">
      <ng-template colRef="name" let-name><b>{{ name }}</b></ng-template>
      <ng-template colRef="kind" let-kind>{{ kind }}</ng-template>
      <ng-template colRef="amount" let-amount>{{ amount | currency }}</ng-template>
      <ng-template colRef="status" let-status>{{ status | titlecase }}</ng-template>
      <ng-template colRef="edit">
        <a mat-icon-button [routerLink]="link">
          <mat-icon svgIcon="pencil"></mat-icon>
        </a>
      </ng-template>
    </bf-table-filter>
  </div>
  <div fxLayout fxLayoutAlign="start center" fxLayoutGap="8px">
    <mat-icon svgIcon="eye"></mat-icon>
    <strong>Detailed financing plan:</strong>
    <missing-control [control]="form.get('financingPlan').get('ref')">
      <ng-template let-ref>{{ ref | fileName | maxLength:30 }}</ng-template>
    </missing-control>
  </div>
</article>