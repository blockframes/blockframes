<tunnel-page>
  <h4 title>Financing Conditions</h4>
  <h1 subtitle>Financing plan</h1>
  <ng-container tunnel-form>
    <section id="fundings">
      <h3>Financing plan</h3>
      <p>
        Please fill in the form below to inform your future investors of the main sources of funding for this project.
      </p>
      <bf-form-table [columns]="columns" [form]="form.get('fundings')" buttonText="Add an Organization">
        <!-- Columns -->
        <ng-template colRef="name" let-name><b>{{ name }}</b></ng-template>
        <ng-template colRef="kind" let-kind>{{ kind }}</ng-template>
        <ng-template colRef="amount" let-amount>{{ amount | currency }}</ng-template>
        <ng-template colRef="status" let-status>{{ status | titlecase }}</ng-template>

        <!-- Local Form -->
        <ng-template formView let-fundinForm>
          <form [formGroup]="fundinForm" fxLayout="column" fxLayoutGap="8px">
            <!-- Name / nature -->
            <div fxLayout fxLayoutGap="16px">
              <mat-form-field fxFlex appearance="outline">
                <mat-label>Organization Name</mat-label>
                <input matInput formControlName="name" required/>
              </mat-form-field>
  
              <mat-form-field fxFlex appearance="outline">
                <mat-label>Nature</mat-label>
                <input matInput formControlName="kind" placeholder="e.g. Executive producer, television co-production"/>
              </mat-form-field>
            </div>
  
            <!-- Amount / status -->
            <div fxLayout fxLayoutGap="16px">
              <mat-form-field fxFlex appearance="outline">
                <mat-label>Amount</mat-label>
                <input type="number" matInput formControlName="amount" required min="0"/>
              </mat-form-field>
  
              <mat-form-field fxFlex appearance="outline">
                <mat-label>Status</mat-label>
                <mat-select formControlName="status">
                  <mat-option>-</mat-option>
                  <mat-option value="estimated">Estimated</mat-option>
                  <mat-option value="confirmed">Confirmed</mat-option>
                </mat-select>
              </mat-form-field>
            </div>
          </form>

        </ng-template>
      </bf-form-table>
    </section>

    <section id="financing-plan">
      
    </section>
  </ng-container>
</tunnel-page>