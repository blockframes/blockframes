<ng-container *ngIf="loading$ | async; else loaded"> Loading </ng-container>
<ng-template #loaded>
  <article fxLayout="row wrap" fxLayoutAlign="start space-between">
    <!-- Movie Card -->
    <movie-card *ngFor="let movie of movies" [movie]="movie" [app]="appName">
      <ng-container movieCardAction>
        <div fxLayout="row" fxLayoutAlign="end end">
          <button mat-icon-button [matMenuTriggerFor]="menu">
            <mat-icon color="primary">more_vert</mat-icon>
          </button>
          <mat-menu #menu="matMenu" xPosition="before">
            <button mat-menu-item [matMenuTriggerFor]="subMenu">
              <mat-icon color="primary">control_camera</mat-icon>
              <span>Open in...</span>
            </button>
            <a mat-menu-item [routerLink]="[movie.id, 'edit']">
              <mat-icon color="primary">edit</mat-icon>
              <span>Edit</span>
            </a>
            <button mat-menu-item (click)="remove(movie)">
              <mat-icon color="primary">delete_outline</mat-icon>
              <span>Delete</span>
            </button>
          </mat-menu>
          <mat-menu #subMenu="matMenu">
            <a mat-menu-item [routerLink]="[movie.id]">Explorer</a>
          </mat-menu>
        </div>
      </ng-container>
    </movie-card>
  </article>
</ng-template>
