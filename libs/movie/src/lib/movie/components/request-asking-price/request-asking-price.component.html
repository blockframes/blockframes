<header fxLayout fxLayoutAlign="end">
  <button mat-icon-button (click)="close()">
    <mat-icon svgIcon="close"></mat-icon>
  </button>
</header>

<form [formGroup]="form" fxLayout="column" fxLayoutAlign="center center" fxLayoutGap="12px">
  <h1>Request Asking Price</h1>
  <mat-form-field appearance="outline">
    <mat-label>Select Territories</mat-label>
    <static-group
      [formControl]="form.get('territories')"
      scope="territories"
      displayAll="World"
      placeholder="Select Territories"
      required>
    </static-group>
    <mat-hint>Select the territories you are interested in.</mat-hint>
    <mat-error *ngIf="form.get('territories').hasError('required')">Select at least one territory</mat-error>
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>Your message</mat-label>
    <textarea
      matInput
      placeholder="Any specific requests or questions? Let the seller know by attaching a message to your request."
      formControlName="message"
      cdkTextareaAutosize
      #autosize="cdkTextareaAutosize"
      cdkAutosizeMinRows="4"
      maxlength="500"
    ></textarea>
  </mat-form-field>

  <footer class="button-container" fxLayout="column" fxLayoutAlign="center center">
    <button mat-flat-button color="primary" [disabled]="sending || form.invalid" type="submit" (click)="send()">
      <span>Send My Request</span>
      <ng-container *ngIf="sending">
        <mat-spinner diameter="16"></mat-spinner>
      </ng-container>
    </button>
    <button mat-button mat-dialog-close type="button">
      Go back
    </button>
  </footer>
</form>