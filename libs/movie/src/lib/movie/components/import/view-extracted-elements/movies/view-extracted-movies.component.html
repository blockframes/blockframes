<article>
  <h1>Submit your titles to finalize your import</h1>
  <section class="help-section" fxLayout="column" fxLayoutAlign="center">
    <p>Please create your titles first then review it and if you feel it's complete submit it to Archipel Content.</p>
    <a [routerLink]="['./']" (click)="openIntercom()">Need help ?</a>
  </section>
  <ng-container *ngIf="moviesToUpdate.data.length || moviesToCreate.data.length || rights.data.length || contractsToUpdate.data.length || contractsToCreate.data.length else isLoading">
    <section class="result-tables">
      <ng-container *ngIf="moviesToCreate.data.length">
        <h3>Titles to Create</h3>
        <movie-table-extracted-movies [rows]="moviesToCreate" mode="create"></movie-table-extracted-movies>
      </ng-container>
      <ng-container *ngIf="moviesToUpdate.data.length">
        <h3>Titles to Update & Submit</h3>
        <movie-table-extracted-movies [rows]="moviesToUpdate" mode="update"></movie-table-extracted-movies>
      </ng-container>
      <ng-container *ngIf="rights.data.length">
        <h3>Distribution deals</h3>
        <movie-table-extracted-rights [rows]="rights"></movie-table-extracted-rights>
      </ng-container>
      <ng-container *ngIf="contractsToUpdate.data.length">
        <h3>Contracts to Update</h3>
        <movie-table-extracted-contracts [rows]="contractsToUpdate" mode="update"></movie-table-extracted-contracts>
      </ng-container>
      <ng-container *ngIf="contractsToCreate.data.length">
        <h3>Contracts to Create</h3>
        <movie-table-extracted-contracts [rows]="contractsToCreate" mode="create"></movie-table-extracted-contracts>
      </ng-container>
    </section>
  </ng-container>
  <ng-template #isLoading>
    <section fxLayout="column" fxLayoutAlign="center center">
      <mat-spinner></mat-spinner>
    </section>
  </ng-template>
</article>
