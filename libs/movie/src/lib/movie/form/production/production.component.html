<tunnel-page>
  <ng-container tunnel-form>
    <h3>Production</h3>
    <section id="company">
      <h6 class="mat-caption">Production Company</h6>

      <bf-form-list [form]="productionCompany">
        <ng-template itemRef let-productionCompany>
          {{ productionCompany.displayName }} - {{ productionCompany.countries | toLabel: 'territories' }}
        </ng-template>
        <ng-template formView let-productionForm>
          <article [formGroup]="productionForm" fxLayout fxLayoutGap="24px">
            <mat-form-field appearance="outline" fxFlex>
              <mat-label>Production Company Name</mat-label>
              <mat-error>Please specify Production Company Name.</mat-error>
              <input test-id="production-company-name" matInput formControlName="displayName"
                placeholder="Production Company Name" />
            </mat-form-field>

            <chips-autocomplete test-id="production-country" [form]="productionForm.get('countries')"
              scope="territories" placeholder="Type and select Country." fxFlex>
              <mat-label>Production Country</mat-label>
              <mat-error>Please specify Production Country.</mat-error>
            </chips-autocomplete>
            <ng-template saveButtonText>Save Production Company</ng-template>
            <ng-template addButtonText>Add Production Company</ng-template>
          </article>
        </ng-template>
      </bf-form-list>
    </section>

    <section id="co-company">
      <h6 class="mat-caption">Co-Production Company</h6>
      <bf-form-list [form]="coProductionCompany">
        <ng-template itemRef let-coProductionCompany>
          {{ coProductionCompany.displayName }} - {{ coProductionCompany.countries | toLabel: 'territories' }}
        </ng-template>
        <ng-template formView let-coProductionForm>
          <article [formGroup]="coProductionForm" fxLayout fxLayoutGap="24px">

            <mat-form-field appearance="outline" fxFlex>
              <mat-label>Co-Production Company Name</mat-label>
              <input test-id="co-production-company-name" matInput formControlName="displayName"
                placeholder="Co-Production Company Name" />
            </mat-form-field>

            <chips-autocomplete test-id="co-production-country" [form]="coProductionForm.get('countries')"
              scope="territories" placeholder="Type and select Country" fxFlex>
              <mat-label>Co-Production Country</mat-label>
              <mat-error>Please specify Co-Production Country.</mat-error>
            </chips-autocomplete>

            <ng-template saveButtonText>Save Co-Production Company</ng-template>
            <ng-template addButtonText>Add Co-Production Company</ng-template>

          </article>
        </ng-template>
      </bf-form-list>
    </section>

    <section id="producers">
      <h6 class="mat-caption">Producer(s)</h6>
      <bf-form-list [form]="form.producers">
        <ng-template itemRef let-producer>
          {{ producer.firstName }} - {{ producer.lastName}} -
          {{ producer.role | toLabel: 'producerRoles' }}</ng-template>
        <ng-template formView let-producerForm>
          <article [formGroup]="producerForm">

            <form-display-name [form]="producerForm" labelSuffix="Producer's"></form-display-name>

            <static-select test-id="producer-role" [control]="producerForm.get('role')" scope="producerRoles"
              [withoutValues]="['']">
              <mat-label>Role</mat-label>
              <mat-hint>Please specify producer's role: executive, associate...</mat-hint>
            </static-select>

            <ng-template saveButtonText>Save Producer</ng-template>
            <ng-template addButtonText>Add Producer</ng-template>

          </article>
        </ng-template>
      </bf-form-list>
    </section>

    <mat-divider></mat-divider>

    <h3>Distributor(s)</h3>
    <section id="distributors">

      <bf-form-list [form]="distributors">
        <ng-template itemRef let-distributor>
          {{ distributor.displayName }} -
          {{ distributor.countries | toLabel: 'territories' }}
        </ng-template>
        <ng-template formView let-distributorForm>
          <article [formGroup]="distributorForm" fxLayout fxLayoutGap="24px">

            <mat-form-field appearance="outline" fxFlex>
              <mat-label>Company Name</mat-label>
              <input test-id="distribution-company-name" matInput formControlName="displayName"
                placeholder="Distribution Company Name" />
            </mat-form-field>

            <chips-autocomplete test-id="distribution-country" [form]="distributorForm.get('countries')"
              scope="territories" placeholder="Enter Distribution Country/ies" fxFlex>
              <mat-label>Enter Distribution Country/ies.</mat-label>
              <mat-error>Please specify Distribution Country.</mat-error>
            </chips-autocomplete>

            <ng-template saveButtonText>Save Distribution Company</ng-template>
            <ng-template addButtonText>Add Distribution Company</ng-template>

          </article>
        </ng-template>
      </bf-form-list>
    </section>

    <mat-divider></mat-divider>

    <h3>International Sales</h3>
    <section id="sales">

      <bf-form-list [form]="internationalSales">
        <ng-template itemRef let-sales> {{ sales.displayName }} - {{ sales.countries | toLabel: 'territories' }}
        </ng-template>
        <ng-template formView let-salesForm>
          <article [formGroup]="salesForm" fxLayout fxLayoutGap="24px">

            <mat-form-field appearance="outline" fxFlex>
              <mat-label>Company Name</mat-label>
              <input test-id="sales-company-name" matInput formControlName="displayName"
                placeholder="Sales Company Name" />
            </mat-form-field>

            <chips-autocomplete test-id="sales-country" [form]="salesForm.get('countries')" scope="territories"
              placeholder="Type and select Country" fxFlex type="model">
              <mat-label>Sales Company's Nationality</mat-label>
              <mat-error>Please specify Sales Company's Country.</mat-error>
            </chips-autocomplete>

            <ng-template saveButtonText>Save Sales Company</ng-template>
            <ng-template addButtonText>Add Sales Company</ng-template>

          </article>
        </ng-template>
      </bf-form-list>
    </section>

  </ng-container>
</tunnel-page>