<tunnel-page>
  <h4 title>Title Information</h4>
  <h1 subtitle>Production Information</h1>
  <ng-container tunnel-form>
    <h3>Production</h3>
    <section id="company">
      <h6 class="mat-caption">Production Company</h6>

      <bf-form-list [form]="productionCompany" buttonText="Add Production Company">
        <ng-template itemRef let-productionCompany>
          {{ productionCompany.displayName }} - {{ productionCompany.countries | translateSlug: 'TERRITORIES' }}
        </ng-template>
        <ng-template formView let-productionForm>
          <article [formGroup]="productionForm" fxLayout fxLayoutGap="24px">
            <mat-form-field appearance="outline" fxFlex>
              <mat-label>Production Company Name</mat-label>
              <mat-error>Please specify Production Company Name.</mat-error>
              <input test-id="production-company-name" matInput formControlName="displayName"
                placeholder="Production Company Name" />
            </mat-form-field>

            <chips-autocomplete test-id="production-country" [form]="productionForm.get('countries')" scope="TERRITORIES"
              placeholder="Type and select Country." fxFlex>
              <mat-label>Production Country</mat-label>
              <mat-error>Please specify Production Country.</mat-error>
            </chips-autocomplete>

          </article>
        </ng-template>
      </bf-form-list>
    </section>

    <section id="co-company">
      <h6 class="mat-caption">Co-Production Company</h6>
      <bf-form-list [form]="coProductionCompany" buttonText="Add Co-Production Company">
        <ng-template itemRef let-coProductionCompany>
          {{ coProductionCompany.displayName }} - {{ coProductionCompany.countries | translateSlug: 'TERRITORIES' }}
        </ng-template>
        <ng-template formView let-coProductionForm>
          <article [formGroup]="coProductionForm" fxLayout fxLayoutGap="24px">

            <mat-form-field appearance="outline" fxFlex>
              <mat-label>Co-Production Company Name</mat-label>
              <input test-id="co-production-company-name" matInput formControlName="displayName"
                placeholder="Co-Production Company Name" />
            </mat-form-field>

            <chips-autocomplete test-id="co-production-country" [form]="coProductionForm.get('countries')" scope="TERRITORIES"
              placeholder="Type and select Country" fxFlex>
              <mat-label>Co-Production Country</mat-label>
              <mat-error>Please specify Co-Production Country.</mat-error>
            </chips-autocomplete>

          </article>
        </ng-template>
      </bf-form-list>
    </section>

    <section id="producers">
      <h6 class="mat-caption">Producer(s)</h6>
      <bf-form-list [form]="form.producers" buttonText="Add Producer">
        <ng-template itemRef let-producer>
          {{ producer.firstName }} - {{ producer.lastName}} -
          {{ producer.role | toLabel: 'producerRoles' }}</ng-template>
        <ng-template formView let-producerForm>
          <article [formGroup]="producerForm">

            <form-display-name [form]="producerForm" labelSuffix="Producer's"></form-display-name>

            <static-select test-id="producer-role" type="constant" [control]="producerForm.get('role')" scope="producerRoles" [withoutValues]="['']">
              <mat-label>Role</mat-label>
              <mat-hint>Please specify producer's role: executive, associate...</mat-hint>
            </static-select>

          </article>
        </ng-template>
      </bf-form-list>
    </section>

    <mat-divider></mat-divider>

    <h3>Distributor(s)</h3>
    <section id="distributors">

      <bf-form-list [form]="distributors" buttonText="Add Distribution Company">
        <ng-template itemRef let-distributor>
          {{ distributor.displayName }} -
          {{ distributor.countries | translateSlug: 'TERRITORIES' }}
        </ng-template>
        <ng-template formView let-distributorForm>
          <article [formGroup]="distributorForm" fxLayout fxLayoutGap="24px">

            <mat-form-field appearance="outline" fxFlex>
              <mat-label>Company Name</mat-label>
              <input test-id="distribution-company-name" matInput formControlName="displayName"
                placeholder="Distribution Company Name" />
            </mat-form-field>

            <chips-autocomplete test-id="distribution-country" [form]="distributorForm.get('countries')" scope="TERRITORIES"
              placeholder="Enter Distribution Country/ies" fxFlex>
              <mat-label>Enter Distribution Country/ies.</mat-label>
              <mat-error>Please specify Distribution Country.</mat-error>
            </chips-autocomplete>

          </article>
        </ng-template>
      </bf-form-list>
    </section>

    <mat-divider></mat-divider>

    <h3>International Sales</h3>
    <section id="sales">

      <bf-form-list [form]="internationalSales" buttonText="Add Sales Company">
        <ng-template itemRef let-sales> {{ sales.displayName }} - {{ sales.countries | translateSlug: 'TERRITORIES' }}
        </ng-template>
        <ng-template formView let-salesForm>
          <article [formGroup]="salesForm" fxLayout fxLayoutGap="24px">

            <mat-form-field appearance="outline" fxFlex>
              <mat-label>Company Name</mat-label>
              <input test-id="sales-company-name" matInput formControlName="displayName"
                placeholder="Sales Company Name" />
            </mat-form-field>

            <chips-autocomplete test-id="sales-country" [form]="salesForm.get('countries')" scope="TERRITORIES"
              placeholder="Type and select Country" fxFlex type="model">
              <mat-label>Sales Company's Nationality</mat-label>
              <mat-error>Please specify Sales Company's Country.</mat-error>
            </chips-autocomplete>

          </article>
        </ng-template>
      </bf-form-list>
    </section>

  </ng-container>
</tunnel-page>
