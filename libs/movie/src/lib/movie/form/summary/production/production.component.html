<!-- PRODUCTION COMPANY -->
<article>
  <h6>
    Production Compan{ movie.stakeholders.get('productionCompany').controls.length, plural, =0 {y} =1 {y} other {ies}}
    <a mat-icon-button [routerLink]="link" fragment="company" matTooltip="Edit">
      <mat-icon svgIcon="edit" color="primary"></mat-icon>
    </a>
  </h6>
  <ul>
    <missing-control [control]="movie.stakeholders.get('productionCompany')" [link]="link" fragment="company">
      <ng-template let-prodCompany="control">
        <li *ngFor="let producer of prodCompany.controls; let i = index" [attr.test-id]="'prod-company_' + i">
          <ng-container *ngIf="producer.get('countries').value.length">
            <strong *ngIf="producer.get('countries').value.length">
              <missing-control [control]="producer.get('countries')" [link]="link" fragment="company"
                scope="territories"></missing-control>
            </strong>
          </ng-container>
          <span>&nbsp;</span>
          <missing-control [control]="producer.get('displayName')"></missing-control>
        </li>
      </ng-template>
    </missing-control>
  </ul>
</article>

<!-- CO-PRODUCTION COMPANY -->
<article>
  <h6>Co-Production Compan{ movie.stakeholders.get('coProductionCompany').controls.length, plural, =0 {y} =1 {y} other
    {ies}}
    <a mat-icon-button [routerLink]="link" fragment="co-company" matTooltip="Edit">
      <mat-icon svgIcon="edit" color="primary"></mat-icon>
    </a>
  </h6>
  <ul>
    <missing-control [control]="movie.stakeholders.get('coProductionCompany')" [link]="link" fragment="co-company">
      <ng-template let-coProdCompany="control">
        <li *ngFor="let coProducer of coProdCompany.controls; let i = index" [attr.test-id]="'coprod-company_' + i">
          <strong>
            <missing-control [control]="coProducer.get('countries')" [link]="link" fragment="co-company"
              scope="territories"></missing-control>
          </strong>
          <span>&nbsp;</span>
          <missing-control [control]="coProducer.get('displayName')"></missing-control>
        </li>
      </ng-template>
    </missing-control>
  </ul>
</article>

<!-- PRODUCER -->
<article>
  <h6>
    Producer{ movie.producers.controls.length, plural, =0 {} =1 {} other {s}}
    <a mat-icon-button [routerLink]="link" fragment="producers" matTooltip="Edit">
      <mat-icon svgIcon="edit" color="primary"></mat-icon>
    </a>
  </h6>
  <ul>
    <missing-control [control]="movie.producers" [link]="link" fragment="producers">
      <ng-template let-producers="control">
        <li *ngFor="let producer of producers.controls; let i = index" [attr.test-id]="'producer_' + i">
          <strong>
            <missing-control [control]="producer.get('role')" [link]="link" scope="producerRoles">
            </missing-control>
          </strong>
          <span>&nbsp;</span>
          <missing-control [control]="producer.get('firstName')"></missing-control>
          <span>&nbsp;</span>
          <missing-control [control]="producer.get('lastName')"></missing-control>
        </li>
      </ng-template>
    </missing-control>
  </ul>
</article>

<!-- DISTRIBUTORS -->
<article>
  <h6>
    Distributor{ movie.stakeholders.get('distributor').controls.length, plural, =0 {} =1 {} other {s}}
    <a mat-icon-button [routerLink]="link" fragment="distributors" matTooltip="Edit">
      <mat-icon svgIcon="edit" color="primary"></mat-icon>
    </a>
  </h6>
  <ul>
    <missing-control [control]="movie.stakeholders.get('distributor')" [link]="link" fragment="distributors">
      <ng-template let-distributors="control">
        <li *ngFor="let distributor of distributors.controls; let i = index" [attr.test-id]="'distributor_' + i">
          <strong>
            <missing-control [control]="distributor.get('countries')" scope="territories" [link]="link">
            </missing-control>
          </strong>
          <span>&nbsp;</span>
          <missing-control [control]="distributor.get('displayName')"></missing-control>
        </li>
      </ng-template>
    </missing-control>
  </ul>
</article>

<!-- SALES AGENT -->
<article>
  <h6>
    International Sales
    <a mat-icon-button [routerLink]="link" fragment="sales" matTooltip="Edit">
      <mat-icon svgIcon="edit" color="primary"></mat-icon>
    </a>
  </h6>
  <ul>
    <missing-control [control]="movie.stakeholders.get('salesAgent')" [link]="link" fragment="sales">
      <ng-template let-salesAgents="control">
        <li *ngFor="let saleAgent of salesAgents.controls; let i = index" [attr.test-id]="'sales-agent_' + i">
          <strong>
            <missing-control [control]="saleAgent.get('countries')" scope="territories" [link]="link"></missing-control>
          </strong>
          <span>&nbsp;</span>
          <span>{{ saleAgent.get('displayName').value }}</span>
        </li>
      </ng-template>
    </missing-control>
  </ul>
</article>
