<!-- CAST -->
<article>
  <h6>
    Cast Members
    <a mat-icon-button [routerLink]="link" fragment="cast-member" matTooltip="Edit">
      <mat-icon svgIcon="edit" color="primary"></mat-icon>
    </a>
  </h6>
  <ul>
    <missing-control [control]="movie.cast" [link]="link" fragment="cast-member">
      <ng-template let-casts="control">
        <li *ngFor="let cast of casts.controls; let i = index" fxLayout="column" [attr.test-id]="'cast_' + i">
          <article fxLayout="row">
            <strong>
              <missing-control [control]="cast.get('firstName')" [link]="link" fragment="cast-member"></missing-control>
            </strong>
            <span>&nbsp;</span>
            <strong>
              <missing-control [control]="cast.get('lastName')" [link]="link" fragment="cast-member"></missing-control>
            </strong>
          </article>
          <missing-control [control]="cast.filmography" [link]="link" fragment="cast-member">
            <ng-template let-filmographies>
              <ng-container *ngFor="let filmography of filmographies">
                {{ filmography | filmography }}
              </ng-container>
            </ng-template>
          </missing-control>
          <missing-control [control]="cast.get('description')" [link]="link" fragment="cast-member"></missing-control>
        </li>
      </ng-template>
    </missing-control>
  </ul>
</article>

<!-- CREW -->
<article>
  <h6>
    Crew Members
    <a mat-icon-button [routerLink]="link" fragment="crew-member" matTooltip="Edit">
      <mat-icon svgIcon="edit" color="primary"></mat-icon>
    </a>
  </h6>
  <ul>
    <missing-control [control]="movie.crew" fragment="crew-member" [link]="link">
      <ng-template let-crew="control">
        <li *ngFor="let crew of crew.controls; let i = index" fxLayout="column" [attr.test-id]="'crew_' + i">
          <article fxLayout="row">
            <strong>
              <missing-control [control]="crew.get('firstName')" [link]="link" fragment="crew-member"></missing-control>
            </strong>
            <span>&nbsp;</span>
            <strong>
              <missing-control [control]="crew.get('lastName')" [link]="link" fragment="crew-member"></missing-control>
            </strong>
            <span>&nbsp;</span>
            <strong>
              (<missing-control [control]="crew.get('role')" scope="crewRoles" [link]="link" fragment="crew-member"></missing-control>)
            </strong>
          </article>
          <missing-control [control]="crew.filmography" [link]="link" fragment="crew-member">
            <ng-template let-filmographies>
              <ng-container *ngFor="let filmography of filmographies">
                {{ filmography | filmography }}
              </ng-container>
            </ng-template>
          </missing-control>
          <missing-control [control]="crew.get('description')" [link]="link" fragment="crew-member"></missing-control>
        </li>
      </ng-template>
    </missing-control>
  </ul>
</article>
