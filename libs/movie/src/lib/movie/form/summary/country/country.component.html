<section fxLayout="row wrap">
  <article *ngFor="let country of main.originCountries.controls; let i = index">
    <h5>Countries of Origin #{{ i + 1 }}</h5>
    <ul>
      <li>
        <strong>Country </strong>
        <missing-control [control]="country" scope="TERRITORIES" [link]="link"></missing-control>
      </li>
      <li>
        <strong>Domestic Distributor </strong>
        <ng-container
          *ngFor="let distributor of main.get('stakeholders').get('distributor').controls; let isLast = last">
          <ng-container *ngIf="distributor.get('countries').value.includes(country.value); else missing">
            <missing-control [control]="distributor.get('displayName')" [link]="link" [isLast]="isLast">
            </missing-control>
          </ng-container>
          <ng-template #missing>
            <a [routerLink]="link" class="missing-control">
              Missing
            </a>
          </ng-template>
        </ng-container>
      </li>
      <li>
        <strong>Release Media </strong>
        <ng-container *ngFor="let release of salesInfo.originalRelease.controls">
          <ng-container *ngIf="release.get('country').value === country.value; else notMatchingCountry">
            <missing-control [control]="release.get('media')" scope="MEDIAS" [link]="link"></missing-control>
          </ng-container>
          <ng-template #notMatchingCountry>
            <a [routerLink]="link" class="missing-control">
              Missing
            </a>
          </ng-template>
        </ng-container>
      </li>
      <li>
        <strong>Release Date </strong>
        <ng-container *ngFor="let release of salesInfo.originalRelease.controls">
          <ng-container *ngIf="release.get('country').value === country.value; else notMatchingCountry">
            <missing-control [control]="release.get('date')" [link]="link">
              <ng-template let-date *ngIf="release.get('date').value">
                {{ date | date: 'shortDate' }}
              </ng-template>
            </missing-control>
          </ng-container>
          <ng-template #notMatchingCountry>
            <a [routerLink]="link" class="missing-control">
              Missing
            </a>
          </ng-template>
        </ng-container>
      </li>
    </ul>
  </article>
</section>