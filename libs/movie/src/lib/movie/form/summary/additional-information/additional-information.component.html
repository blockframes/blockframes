<ng-container *ngIf="movie | hasStatus: ['released']">

  <!-- RELEASE -->
  <article>
    <h6>
      Release
      <a mat-icon-button [routerLink]="link" fragment="release">
        <mat-icon svgIcon="pencil" color="primary"></mat-icon>
      </a>
    </h6>
    <ng-container *ngIf="movie.originalRelease.controls.length; else emptyReleases">
      <ng-container *ngFor="let release of movie.originalRelease.controls">
        <missing-control [control]="release.get('country')" [link]="link" scope="TERRITORIES"></missing-control> -
        <missing-control [control]="release.get('media')" [link]="link" scope="MEDIAS"></missing-control> -
        <missing-control [control]="release.get('date')" [link]="link">
          <ng-template let-date>
            {{ date | date: 'dd/MM/yyyy' }}
          </ng-template>
        </missing-control>
      </ng-container>
    </ng-container>
    <ng-template #emptyReleases>
      <missing-control [control]="movie.originalRelease" [link]="link"></missing-control>
    </ng-template>
  </article>

  <!-- BOX OFFICE -->
  <article>
    <h6>
      Box Office
      <a mat-icon-button [routerLink]="link" fragment="box-office">
        <mat-icon svgIcon="pencil" color="primary"></mat-icon>
      </a>
    </h6>
    <ng-container *ngIf="movie.boxOffice.controls.length; else emptyBoxes">
      <ng-container *ngFor="let office of movie.boxOffice.controls">
        <div fxLayout fxLayoutGap="8px">
          <missing-control [control]="office.get('territory')" [link]="link" scope="TERRITORIES"></missing-control>
          <missing-control [control]="office.get('unit')" [link]="link">
            <ng-template let-unit>
              <ng-container *ngIf="unit === 'boxoffice_dollar'">
                <mat-icon [svgIcon]="'USD'" id="currency-icon"></mat-icon>
              </ng-container>
              <ng-container *ngIf="unit === 'boxoffice_euro'">
                <mat-icon [svgIcon]="'EUR'" id="currency-icon"></mat-icon>
              </ng-container>
            </ng-template>
          </missing-control>
          <missing-control [control]="office.get('value')">
            <ng-template let-value>{{ value | number }}</ng-template>
          </missing-control>
          <span>&nbsp;</span>
          <ng-container *ngIf="office.get('unit').value === 'admissions'">
            <span>Admissions</span>
            <span>&nbsp;</span>
          </ng-container>
        </div>
      </ng-container>
    </ng-container>
    <ng-template #emptyBoxes>
      <missing-control [control]="movie.boxOffice" [link]="link"></missing-control>
    </ng-template>

  </article>

  <!-- RATING -->
  <article>
    <h6>
      Rating
      <a mat-icon-button [routerLink]="link" fragment="rating">
        <mat-icon svgIcon="pencil" color="primary"></mat-icon>
      </a>
    </h6>

    <ng-container *ngIf="movie.rating.controls.length; else emptyRatings">
      <ng-container *ngFor="let rating of movie.rating.controls">
        <missing-control [control]="rating.get('value')" [link]="link" fragment="rating"></missing-control>
        <span>&nbsp;</span>
        <missing-control [control]="rating.get('country')" [link]="link" fragment="rating" scope="TERRITORIES">
        </missing-control>
      </ng-container>
    </ng-container>
    <ng-template #emptyRatings>
      <missing-control [control]="movie.rating" [link]="link"></missing-control>
    </ng-template>

  </article>
</ng-container>

<!-- CERTIFICATION -->
<article>
  <h6>
    Qualification{ movie.certifications.value.length, plural, =0 {} =1 {} other {s}}
    <a mat-icon-button [routerLink]="link" fragment="qualifications">
      <mat-icon svgIcon="pencil" color="primary"></mat-icon>
    </a>
  </h6>
  <missing-control [control]="movie.certifications" [link]="link">
    <ng-template let-certs>
      <ng-container *ngFor="let cert of certs; let last = last">
        {{ cert | translateSlug: 'CERTIFICATIONS' }}{{ last ? '' : ', '}}
      </ng-container>
    </ng-template>
  </missing-control>
</article>