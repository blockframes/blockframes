<!-- SHOOTING INFORMATION -->
<article>
  <h6>
    Shooting Dates
    <a mat-icon-button [routerLink]="link" fragment="shooting-dates" matTooltip="Edit">
      <mat-icon svgIcon="edit" color="primary"></mat-icon>
    </a>
  </h6>
  <ul>
    <li
      *ngIf="!shootingDates.get('completed').value && !shootingDates.get('progress').value && !isThereShootingPlanned()">
      <strong>Shooting Dates </strong>
      <missing-control [control]="shootingDates.get('completed')" [link]="link" fragment="shooting-dates">
      </missing-control>
    </li>
    <li *ngIf="movie.shooting.get('dates').get('completed').value">
      <strong>Shooting Completed </strong>
      <missing-control [control]="movie.shooting.get('dates').get('completed')" [link]="link" fragment="shooting-dates">
        <ng-template let-completed>
          {{ completed | date: 'shortDate' }}
        </ng-template>
      </missing-control>
    </li>
    <li *ngIf="movie.shooting.get('dates').get('progress').value">
      <strong>Shooting In Progress </strong>
      <missing-control [control]="movie.shooting.get('dates').get('progress')" [link]="link" fragment="shooting-dates">
        <ng-template let-progress>
          {{ progress | date: 'shortDate' }}
        </ng-template>
      </missing-control>
    </li>
    <li *ngIf="isThereShootingPlanned()">
      <strong>Shooting Planned </strong>
      <span>From
        <missing-control [control]="shootingPlanned.get('from').get('period')" [link]="link" fragment="shooting-dates" test-id="shooting-from-period">
          <ng-template let-planned>
            <span>{{ planned | toLabel: 'shootingPeriod' }} </span>
          </ng-template>
        </missing-control>
        <missing-control [control]="shootingPlanned.get('from').get('month')" [link]="link" fragment="shooting-dates" test-id="shooting-from-month">
          <ng-template let-planned>
            <span>{{ planned | titlecase }} </span>
          </ng-template>
        </missing-control>
        <missing-control [control]="shootingPlanned.get('from').get('year')" [link]="link" fragment="shooting-dates" test-id="shooting-from-year">
          <ng-template let-planned>
            <span>{{ planned }}</span>
          </ng-template>
        </missing-control>
        to
        <missing-control [control]="shootingPlanned.get('to').get('period')" [link]="link" fragment="shooting-dates" test-id="shooting-to-period">
          <ng-template let-planned>
            <span>{{ planned | toLabel: 'shootingPeriod' }} </span>
          </ng-template>
        </missing-control>
        <missing-control [control]="shootingPlanned.get('to').get('month')" [link]="link" fragment="shooting-dates" test-id="shooting-to-month">
          <ng-template let-planned>
            <span>{{ planned | titlecase }} </span>
          </ng-template>
        </missing-control>
        <missing-control [control]="shootingPlanned.get('to').get('year')" [link]="link" fragment="shooting-dates" test-id="shooting-to-year">
          <ng-template let-planned>
            <span>{{ planned }}</span>
          </ng-template>
        </missing-control>
      </span>
    </li>
    <li fxLayout="row" fxLayoutGap="8px">
      <strong>Shooting Locations</strong>
      <missing-control [control]="shootingLocations" [link]="link" fragment="shooting-locations">
        <ng-template let-shooting>
          <ng-container *ngFor="let location of shooting; let i = index">
    <li [attr.test-id]="'location_' + i">
      {{ location.country | toLabel: 'territories' }} - {{ location.cities.join(', ') | titlecase }}
    </li>
    </ng-container>
    </ng-template>
    </missing-control>
    </li>
    <li>
      <strong>Expected Premiere </strong>
      <missing-control [control]="movie.expectedPremiere.get('event')" [link]="link" fragment="expected-premiere" test-id="premiere-event">
        <ng-template let-event>
          {{ event }}
        </ng-template>
      </missing-control>
      <span> - </span>
      <missing-control [control]="movie.expectedPremiere.get('date')" [link]="link" fragment="expected-premiere" test-id="premiere-date">
        <ng-template let-date>
          {{ date | date: 'MMMM y' }}
        </ng-template>
      </missing-control>
    </li>
  </ul>
</article>