<ul>
  <li>
    <strong>Production Year </strong>
    <missing-control [control]="main.get('productionYear')" [link]="link"></missing-control>
  </li>
  <li>
    <strong>Production Company </strong>
    <ng-container *ngFor="let producer of main.get('stakeholders').get('executiveProducer').controls; let isLast = last">
      <missing-control [control]="producer.get('displayName')" [link]="link"></missing-control>
      <ng-container *ngIf="producer.get('countries').value.length">
        <span> (</span>
        <span *ngFor="let country of producer.get('countries').value; let last = last">
          <span>{{ country | translateSlug: 'TERRITORIES' }}{{ last ? '' : ', '}}</span>
        </span>
        <span>)</span>
      </ng-container>
      <span>{{ isLast ? '' : ', '}}</span>
    </ng-container>
  </li>
  <li>
    <strong>Producers </strong>
    <ng-container *ngFor="let producer of salesCast.get('producers').controls; let isLast = last">
      <ng-container *ngIf="producerHasNoValue(producer) else displayProducer">
        <a [routerLink]="link" class="missing-control">
          Missing
        </a>
      </ng-container>
      <ng-template #displayProducer>
        <missing-control [control]="producer.get('firstName')" [link]="link"></missing-control>
        <span>&nbsp;</span>
        <missing-control [control]="producer.get('lastName')" [link]="link"></missing-control>
        <span *ngIf="producer.get('role').value"> (</span>
        <missing-control [control]="producer.get('role')" [link]="link" scope="PRODUCER_ROLES" class="control-role"></missing-control>
        <span *ngIf="producer.get('role').value">)</span>
        <span>{{ isLast ? '' : ', '}}</span>
      </ng-template>
    </ng-container>
  </li>
  <li>
    <strong>Co-Production </strong>
    <ng-container *ngFor="let coProducer of main.get('stakeholders').get('coProducer').controls; let isLast = last">
      <missing-control [control]="coProducer.get('displayName')" [link]="link"></missing-control>
      <ng-container *ngIf="coProducer.get('countries').value.length">
        <span> (</span>
        <ng-container *ngFor="let country of coProducer.get('countries').value; let last = last">
          <span>{{ country | translateSlug: 'TERRITORIES' }}{{ last ? '' : ', '}}</span>
        </ng-container>
        <span>)</span>
      </ng-container>
      <span>{{ isLast ? '' : ', '}}</span>
    </ng-container>
  </li>
  <ng-container *ngFor="let artist of salesCast.get('crew').controls; let isLast = last">
    <li>
      <ng-container *ngIf="artist.get('role').value else role">
        <strong>{{ artist.get('role').value | translateSlug: 'CREW_ROLES' }}&nbsp;</strong>
      </ng-container>
      <ng-template #role>
        <strong>Role</strong>
      </ng-template>
      <ng-container *ngIf="!artist.get('firstName').value || !artist.get('lastName').value else displayArtist">
        <a [routerLink]="link" class="missing-control">
          Missing
        </a>
      </ng-container>
      <ng-template #displayArtist>
        <missing-control [control]="artist.get('firstName')" [link]="link"></missing-control>
        <span>&nbsp;</span>
        <missing-control [control]="artist.get('lastName')" [link]="link"></missing-control>
      </ng-template>
    </li>
  </ng-container>
</ul>
