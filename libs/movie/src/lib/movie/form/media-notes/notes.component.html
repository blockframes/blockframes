<tunnel-page>
  <ng-container tunnel-form>
    <h3>Note / Statement</h3>
    <section id="notes">
      <bf-form-list [form]="form.promotional.get('notes')">
        <ng-template itemRef let-note>{{ note.firstName }} - {{ note.lastName }} - {{ note.role | titlecase }} -
          {{ note.ref?.fileName | fileName | maxLength: 30 }}</ng-template>
        <ng-template formView let-noteForm>
          <article fxLayout="column" fxLayoutGap="24px">
            <form-display-name [form]="noteForm"></form-display-name>
            <mat-form-field appearance="outline">
              <mat-label>Role</mat-label>
              <mat-select test-id="role" [formControl]="noteForm.get('role')">
                <mat-option *ngFor="let role of roles" [value]="role">
                  {{ role | titlecase }}
                </mat-option>
              </mat-select>
            </mat-form-field>
            <file-upload test-id="intent-note" [form]="noteForm.get('ref')" [storagePath]="getPath()"
              allowedFileType="pdf">
            </file-upload>
            <div fxLayout="column" class="captions">
              <span class="mat-caption">Attach a note / statement of intent from your project's director or
                producer.</span>
              <span class="mat-caption">Please note that this document will be available for download on the
                marketplace.</span>
            </div>

            <ng-template saveButtonText>Save Note</ng-template>
            <ng-template addButtonText>Add a Note</ng-template>

          </article>
        </ng-template>
      </bf-form-list>
    </section>
  </ng-container>
</tunnel-page>