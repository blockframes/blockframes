<tunnel-page>
  <ng-container tunnel-form>

    <h3>Promotional Video</h3>
    <section fxLayout="column">
      <p>Upload a video such as a trailer, teaser, promo reel, etc.</p>
      <span fxFlex fxLayout="row" fxLayoutGap="16px">
        <mat-form-field appearance="outline" fxFlex>
          <mat-label>Title</mat-label>
          <input matInput type="text" placeholder="Title of the video" [formControl]="otherVideoForm.get('title')" test-id="title"/>
          <mat-hint>You can give a name to your video</mat-hint>
        </mat-form-field>
        <static-select required scope="hostedVideoTypes" [control]="otherVideoForm.get('type')" fxFlex test-id="video-type">
          <mat-label>Video Type</mat-label>
          <mat-hint>Trailer, Teaser, Clip...</mat-hint>
        </static-select>
      </span>
      <mat-checkbox [checked]="otherVideoForm.isPublic" (change)="otherVideoForm.togglePrivacy($event.checked)" color="primary" test-id="video-privacy">
        <b>Public</b> (Buyers can see video on Marketplace)
      </mat-checkbox>
      <file-uploader
        [form]="otherVideoForm"
        [meta]="['movies', 'otherVideo', movieId]"
        accept="video"
        (newSubscription)="shell.addSubToStack($event)"
        listenToChanges
        pushSubToStack
        test-id="video-upload"
      >
        <h3 title>Upload Promotional Video</h3>
      </file-uploader>
    </section>

    <mat-divider class="thick"></mat-divider>

    <h3>Sales Pitch</h3>
    <section fxLayout="column">
      <p>Please provide your sales presentation description to interest buyers and investors.</p>
      <mat-form-field appearance="outline" fxFlex>
        <mat-label>Description</mat-label>
        <textarea matInput [formControl]="salesPitchForm.get('description')" cdkTextareaAutosize
          cdkAutosizeMinRows="10" test-id="description"></textarea>
        <mat-error *ngIf="salesPitchForm.get('description').hasError('maxlength')">
          Description should not exceed 1500 characters.
        </mat-error>
      </mat-form-field>
      <mat-checkbox [checked]="salesPitchForm.isPublic" (change)="salesPitchForm.togglePrivacy($event.checked)" color="primary" test-id="pitch-privacy">
        <b>Public</b> (Buyers can see video on Marketplace)
      </mat-checkbox>
      <file-uploader
        [form]="salesPitchForm"
        [meta]="['movies', 'salesPitch', movieId]"
        accept="video"
        (newSubscription)="shell.addSubToStack($event)"
        listenToChanges
        pushSubToStack
        test-id="sales-pitch-upload"
      >
        <h3 title>Sales Pitch Video</h3>
      </file-uploader>
    </section>

  </ng-container>
</tunnel-page>
