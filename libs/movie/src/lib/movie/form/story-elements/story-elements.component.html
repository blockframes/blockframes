<tunnel-page>
  <ng-container tunnel-form>
    <section id="logline">
      <h3>Logline</h3>
      <mat-form-field appearance="outline">
        <textarea test-id="logline" matInput [formControl]="form.logline" cdkTextareaAutosize cdkAutosizeMinRows="5"
          maxlength="350" type="string"
          placeholder="e.g. A seventeen-year-old aristocrat falls in love with a kind but poor artist aboard the luxruious, ill-fated Titanic."></textarea>
        <mat-hint align="start">Logline should not exceed 350 characters</mat-hint>
        <mat-error *ngIf="form.logline.hasError('maxlength')">
          Logline should not exceed 350 characters.
        </mat-error>
      </mat-form-field>
    </section>

    <mat-divider></mat-divider>

    <section id="synopsis">
      <h3>Synopsis *</h3>
      <mat-form-field appearance="outline">
        <textarea test-id="synopsis" matInput [formControl]="form.synopsis" cdkTextareaAutosize cdkAutosizeMinRows="5"
          maxlength="1500" type="string" aria-label="synopsis"
          placeholder="e.g. 84 years later, a 100 year-old woman named Rose DeWitt Bukater tells the story to her granddaughter Lizzy Calvert, Brock Lovett, Lewis Bodine, Bobby Buell and Anatoly Mikailavich on the Keldysh about her life set in April 10th 1912, on a ship called Titanic when young Rose boards the departing ship with the upper-class passengers and her mother, Ruth DeWitt Bukater, and her fiancé, Caledon Hockley. Meanwhile, a drifter and artist named Jack Dawson and his best friend Fabrizio De Rossi win third-class tickets to the ship in a game. And she explains the whole story from departure until the death of Titanic on its first and last voyage April 15th, 1912 at 2:20 in the morning."
          required></textarea>
        <mat-hint align="start">{{ form.synopsis.value.length }} / 1500. Synopsis should not exceed 1500 characters.
        </mat-hint>
        <mat-error *ngIf="form.synopsis.hasError('required')">
          Please fill in your project's synopsis.
        </mat-error>
      </mat-form-field>
    </section>

    <mat-divider></mat-divider>

    <section id="key-assets">
      <h3>Key Assets</h3>
      <mat-form-field appearance="outline">
        <mat-label>Key Assets</mat-label>
        <textarea test-id="key-assets" matInput maxlength="750" cdkTextareaAutosize cdkAutosizeMinRows="5" type="string"
          placeholder="Highlight your film's main selling point(s). Key Assets should not exceed 750 characters. E.g. Titanic is one of the most awarded films and biggest box-office successes of all time, starring young award-winning Kate Winslet and Leonardo DiCaprio, with an original soundtrack from Céline Dion."
          [formControl]="form.keyAssets">
        </textarea>
        <mat-hint align="start">Highlight your film's main selling point(s).</mat-hint>
        <mat-error *ngIf="form.keyAssets.hasError('maxlength')">
          Key assets should not exceed 750 characters.
        </mat-error>
      </mat-form-field>
    </section>

    <mat-divider></mat-divider>

    <section id="keywords">
      <h3>Keywords</h3>
      <mat-form-field appearance="outline">
        <mat-label>Keywords</mat-label>
        <mat-chip-list #chipList>
          <ng-container *ngFor="let value of values$ | async; let i = index">
            <mat-chip removable="true" (removed)="remove(i)">
              <span>{{ value }}</span>
              <mat-icon matChipRemove svgIcon="close"></mat-icon>
            </mat-chip>
          </ng-container>
        </mat-chip-list>
        <input test-id="keyword" matInput [formControl]="keyword" [matChipInputFor]="chipList"
          [matChipInputSeparatorKeyCodes]="separatorKeysCodes" (matChipInputTokenEnd)="add($event)"
          placeholder="e.g. Ship, Shipwreck, Disaster, Iceberg, Young Love, Forbidden Love, Social Class" />
        <mat-hint>Use commas or press Enter key to separate keywords.</mat-hint>
      </mat-form-field>
    </section>
  </ng-container>
</tunnel-page>