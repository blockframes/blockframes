<ng-container [formGroup]="filterForm">

  <!-- TODO WHY IS THIS COMMENTED ? -->
  <!-- Production Year -->
  <!-- <mat-expansion-panel expanded>
    <mat-expansion-panel-header>
      <mat-panel-title test-id="production-year-panel">
        Production Year
      </mat-panel-title>
    </mat-expansion-panel-header>
    <div fxLayout="row" fxLayoutAlign="start start" fxLayoutGap="10px" formGroupName="productionYear">
      <mat-form-field appearance="outline">
        <mat-label>From</mat-label>
        <input test-id="production-year-input-from" matInput type="number" formControlName="from"
          placeholder="From" autocomplete="off" [errorStateMatcher]="matcher" />
        <mat-error *ngIf="filterForm.get('productionYear').get('from').hasError('pattern')">
          Please type in a valid year! Example: <i>{{ getCurrentYear }}</i>
        </mat-error>
        <mat-error *ngIf="filterForm.get('productionYear').get('from').hasError('max')">
          The year can't be above the current year, {{ getCurrentYear }}
        </mat-error>
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>To</mat-label>
        <input test-id="production-year-input-to" matInput type="number" formControlName="to" placeholder="To"
          autocomplete="off" [errorStateMatcher]="matcher" />
        <mat-error *ngIf="filterForm.get('productionYear').get('to').hasError('pattern')">
          Please type in a valid year! Example: <i>{{ getCurrentYear }}</i>
        </mat-error>
      </mat-form-field>
    </div>
    <mat-error *ngIf="showFormGroupError('productionYear')">
      The value <i>To</i> can't be smaller than the value <i>From</i>!
    </mat-error>
  </mat-expansion-panel> -->

  <mat-divider inset></mat-divider>
  <h5>TITLE METADATA</h5>

  <!-- TODO IS THIS SUPPOSED TO BE IN AVAILS ? -->
  <!-- Freshness (Store Type) -->
  <!-- <mat-expansion-panel>
    <mat-expansion-panel-header>
      <span class="mat-body-1">Freshness</span>
    </mat-expansion-panel-header>
    <div fxLayout="row" fxLayoutAlign="space-around center">
      <mat-checkbox (change)="checkStoreType('library')" color="primary" [disabled]="availsForm.value.isActive">
        <span>Library</span>
      </mat-checkbox>
      <mat-checkbox (change)="checkStoreType('line_up')" color="primary" [disabled]="availsForm.value.isActive">
        <span>Line-Up</span>
      </mat-checkbox>
    </div>
  </mat-expansion-panel> -->

  <!-- Genres -->
  <mat-expansion-panel>
    <mat-expansion-panel-header>
      <span class="mat-body-1">Genres</span>
    </mat-expansion-panel-header>
    <movie-form-genre [form]="filterForm.genres"></movie-form-genre>
  </mat-expansion-panel>

  <mat-expansion-panel>
    <mat-expansion-panel-header>
      <span class="mat-body-1">Country of Origin</span>
    </mat-expansion-panel-header>
    <chips-autocomplete
      [form]="filterForm.originCountries"
      placeholder="Country of Origin"
      [items]="countries"
      store="slug"
      display="label">
    </chips-autocomplete>
  </mat-expansion-panel>

  <!-- Languages -->
  <mat-expansion-panel>
    <mat-expansion-panel-header>
      <span class="mat-body-1">Language & Version</span>
    </mat-expansion-panel-header>
    <form formGroupName="languages" fxLayout="column">
      <div fxLayout="row" fxLayoutAlign="start start">
        <mat-form-field appearance="outline">
          <mat-label>New language</mat-label>
          <input test-id="languages-panel-input" matInput type="text" [matAutocomplete]="language"
            [formControl]="languageControl" placeholder="Add new language" [errorStateMatcher]="matcher" />
          <mat-error *ngIf="languageControl.hasError('languageNotSupported')">
            Please enter a valid language or choose from the dropdown menu!
          </mat-error>
          <button matSuffix mat-icon-button (click)="addLanguage(languageControl.value)"
            [disabled]="!languageControl.valid">
            <mat-icon>search</mat-icon>
          </button>
          <mat-autocomplete #language="matAutocomplete">
            <mat-option *ngFor="let language of languagesFilter$ | async" [value]="language">
              {{language}}
            </mat-option>
          </mat-autocomplete>
        </mat-form-field>
        <button
          test-id="languages"
          class="language-button"
          mat-mini-fab
          [disabled]="!languageControl.valid"
          color="primary"
          (click)="addLanguage(languageControl.value); languageControl.reset()">
          <mat-icon svgIcon="add"></mat-icon>
        </button>
      </div>
      <div fxLayout="column" fxLayoutAlign="start start">
        <ng-container *ngIf="filterForm.get('languages').value">
          <mat-list [formGroup]="filterForm.get('languages')" role="list">
            <ng-container *ngFor="let language of languages$ | async">
              <mat-list-item [formGroupName]="language">
                <span mat-line>
                  <mat-chip class="chip-language" removable (removed)="removeLanguage(language)">
                    <span>{{ language | translateSlug: 'LANGUAGES' }}</span>
                    <mat-icon matChipRemove svgIcon="close"></mat-icon>
                  </mat-chip>
                </span>
                <mat-checkbox color="primary" test-id="languages-checkbox-original" mat-line formControlName="original">
                  Original
                </mat-checkbox>
                <mat-checkbox color="primary" test-id="languages-checkbox-dubbed" mat-line formControlName="dubbed">
                  Dubbed
                </mat-checkbox>
                <mat-checkbox color="primary" test-id="languages-checkbox-subtitle" mat-line formControlName="subtitle">
                  Subtitled
                </mat-checkbox>
                <mat-checkbox color="primary" test-id="languages-checkbox-subtitle" mat-line formControlName="caption">
                  Closed-Captioned
                </mat-checkbox>
              </mat-list-item>
            </ng-container>
          </mat-list>
        </ng-container>
      </div>
    </form>
  </mat-expansion-panel>

  <!-- Production Statuses -->
  <mat-expansion-panel>
    <mat-expansion-panel-header>
      <span class="mat-body-1">Production Status</span>
    </mat-expansion-panel-header>
    <div fxLayout="column" fxLayoutAlign="start start" class="checkbox-padding">
      <mat-checkbox color="primary" (change)="hasStatus(status)" *ngFor="let status of movieProductionStatuses">
        {{status}}
      </mat-checkbox>
    </div>
  </mat-expansion-panel>

  <!-- Budget -->
  <mat-expansion-panel>
    <mat-expansion-panel-header>
      <span class="mat-body-1">Budget</span>
    </mat-expansion-panel-header>
    <div fxLayout="column" fxLayoutAlign="start start" class="checkbox-padding">
      <mat-checkbox (change)="hasBudget(budget)" color="primary" *ngFor="let budget of budgetList">
        {{ budget.label }}
      </mat-checkbox>
    </div>
  </mat-expansion-panel>

  <!-- Certifications -->
  <!-- <mat-expansion-panel>
    <mat-expansion-panel-header>
      <mat-panel-title test-id="certifications-panel">
        Certifications
      </mat-panel-title>
    </mat-expansion-panel-header>
    <h6>You can choose multiple certifications</h6>
    <span fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="10px">
      <mat-checkbox *ngFor="let certification of movieCertifications"
        (change)="checkCertification(certification)">{{certification}}
      </mat-checkbox>
    </span>
  </mat-expansion-panel> -->
</ng-container>
