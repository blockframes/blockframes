<section fxLayout="column">
  <header fxLayout="row" fxLayout.lt-md="column" fxFlex>
    <ng-container *ngIf="movie$ | async as movie">
      <img [ref]="movie.poster" asset="empty_poster.webp" alt="movie poster">

      <article fxLayout="column">
        <h4>{{ movie | movieFeature }}</h4>
        <h1>{{ movie.title.international }}</h1>
        <h6>{{ movie.directors | displayName }}</h6>
        <span>
          {{ movie.originCountries | toLabel: 'territories'}}
        </span>
        <ng-container *ngIf="movie.originCountries.length && movie.release.year">,</ng-container>
        {{ movie.release.year }}

        <a mat-button [routerLink]="['/c/o/dashboard/tunnel/movie', movie.id]">
          <mat-icon svgIcon="pencil"></mat-icon>
          <span>Edit</span>
        </a>
      </article>
    </ng-container>
  </header>

  <nav mat-tab-nav-bar>
    <a mat-tab-link *ngFor="let link of routes" [routerLink]="link.path" routerLinkActive #rla="routerLinkActive"
      [active]="rla.isActive">
      {{link.label}}
    </a>
  </nav>

  <div [@routeAnimation]="animationOutlet(outlet)">
    <router-outlet #outlet="outlet"></router-outlet>
  </div>

</section>