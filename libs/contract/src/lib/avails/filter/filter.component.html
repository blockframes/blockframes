<mat-form-field appearance="outline" *ngIf="getControl('territories') as territories" >
  <mat-label>Select Territories</mat-label>
  <mat-icon matPrefix svgIcon="world"></mat-icon>
  <static-group
    [disabled]="disabled"
    [formControl]="territories"
    scope="territories"
    displayAll="World"
    placeholder="Specify territory to filter"
    required
    test-id="territories">
  </static-group>
  <mat-error *ngIf="form.hasError('required', 'territories')">
    This field is mandatory
  </mat-error>
</mat-form-field>

<mat-form-field appearance="outline" *ngIf="getControl('medias') as medias">
  <mat-label>Select Rights</mat-label>
  <mat-icon matPrefix svgIcon="play_arrow"></mat-icon>
  <static-group
    [formControl]="medias"
    [disabled]="disabled"
    scope="medias"
    displayAll="All Rights"
    required
    placeholder="Specify right(s) to filter"
    test-id="medias">
  </static-group>
  <mat-error *ngIf="form.hasError('required', 'medias')">
    This field is mandatory
  </mat-error>
</mat-form-field>

<div class="duration" *ngIf="getControl('duration') as duration" [formGroup]="duration" >
  <mat-form-field appearance="outline">
    <mat-label>Licence Start Date</mat-label>
    <input
      [disabled]="disabled"
      matInput
      [matDatepicker]="datepickerFrom"
      formControlName="from"
      required
      placeholder="MM/DD/YYYY"
    />
    <mat-datepicker-toggle matPrefix [for]="datepickerFrom" test-id="dateFrom"></mat-datepicker-toggle>
    <mat-datepicker #datepickerFrom> </mat-datepicker>
    <mat-error *ngIf="form.hasError('startOverEnd', 'duration.from')">Start date must not be later than end date
    </mat-error>
    <mat-error *ngIf="form.hasError('inPast', 'duration.from')">Date must be in the future</mat-error>
    <mat-error *ngIf="form.hasError('required', 'duration.from')">
      This field is mandatory
    </mat-error>
  </mat-form-field>
  <mat-form-field appearance="outline">
    <mat-label>Licence End Date</mat-label>
    <input
      [disabled]="disabled"
      matInput
      [matDatepicker]="datepickerTo"
      formControlName="to"
      required
      placeholder="MM/DD/YYYY"
    />
    <mat-datepicker-toggle matPrefix [for]="datepickerTo" test-id="dateTo"></mat-datepicker-toggle>
    <mat-datepicker #datepickerTo> </mat-datepicker>
    <mat-error *ngIf="form.hasError('startOverEnd', 'duration.to')">
      End date must not be earlier than start date
    </mat-error>
    <mat-error *ngIf="form.hasError('inPast', 'duration.from')">
      Date must be in the future
    </mat-error>
    <mat-error *ngIf="form.hasError('required', 'duration.to')">
      This field is mandatory
    </mat-error>
  </mat-form-field>
</div>

<mat-form-field appearance="outline" *ngIf="getControl('exclusive') as exclusive">
  <mat-label>Select exclusivity</mat-label>
  <mat-icon matPrefix svgIcon="star"></mat-icon>
  <mat-select [formControl]="exclusive" [disabled]="disabled" required>
    <mat-option [value]="true">Exclusive</mat-option>
    <mat-option [value]="false">Non exclusive</mat-option>
  </mat-select>
  <mat-error *ngIf="form.hasError('required', 'exclusive')">
    This field is mandatory
  </mat-error>
</mat-form-field>

<ng-container *ngIf="!vertical">
  <button mat-icon-button type="reset" (click)="form.reset()" matTooltip="Clear Fields" [disabled]="disabled">
    <mat-icon svgIcon="refresh_filters"></mat-icon>
  </button>
</ng-container>
