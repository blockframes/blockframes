<tunnel-layout [steps]="steps$ | async" [exitRedirect]="exitRoute$ | async">
  <header fxLayout="row" fxLayoutAlign="space-between center">
    <app-logo></app-logo>
    <button test-id="save" mat-stroked-button color="primary" (click)="save()">
      <mat-icon svgIcon="save" class="primary-icon"></mat-icon>
      <span>Save</span>
    </button>
  </header>

  <aside>
    <mat-divider></mat-divider>
    <tunnel-nav [steps]="steps$ | async"></tunnel-nav>
  </aside>
  <ng-template #confirmExit>
    <div class="confirm-exit" fxLayout="column" fxLayoutAlign="start center">
      <h1>You are going to leave the Contract Form.</h1>
      <p>Pay attention, if you leave now your changes will not be saved.</p>
      <div fxLayout="row" fxLayoutAlign="center">
        <button class="save" mat-flat-button color="primary" [mat-dialog-close]="true">
          Save & Exit</button>
        <button class="text-primary" mat-button [mat-dialog-close]="false">
          Close without saving
        </button>
      </div>
    </div>
  </ng-template>
</tunnel-layout>