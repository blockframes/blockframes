<section fxLayout="column" fxLayoutAlign="center center">
  <article fxLayout="row" fxLayoutAlign="center center" fxLayout.lt-md="column">
    <img src="/assets/images/dark-rocket.png">
    <form [formGroup]="form">
      <h2>Your identity</h2>
      <p>
        Please fill out the form to connect.
      </p>
      <mat-form-field appearance="outline">
        <mat-label>Email</mat-label>
        <input matInput type="email" formControlName="email" required />
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>First name</mat-label>
        <input matInput type="text" placeholder="First name" formControlName="name" required />
        <mat-error *ngIf="form.get('name').hasError('required')">
          First name is <strong>required</strong>
        </mat-error>
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>Last name</mat-label>
        <input matInput type="text" placeholder="Last name" formControlName="surname" required />
        <mat-error *ngIf="form.get('surname').hasError('required')">
          Last name is <strong>required</strong>
        </mat-error>
      </mat-form-field>
      <ng-container>
        <mat-form-field appearance="outline">
          <mat-label>Pre generated password</mat-label>
          <input matInput type="password" placeholder="Your pre generated password" formControlName="generatedPassword"
            required />
        </mat-form-field>
      </ng-container>
      <password-confirm formControlName="newPassword"></password-confirm>
      <!-- TODO issue#1146 -->
      <ng-container *ngIf="mobile">
        <h3>Profile picture</h3>
        <drop-cropper [ratio]="1" storagePath="avatar" formControlName="avatar"></drop-cropper>
      </ng-container>
      <accept-conditions (termsOfUseChecked)="checkTermsOfUse($event)">
        <ng-template conditions>
          <auth-terms-conditions></auth-terms-conditions>
        </ng-template>
      </accept-conditions>
    </form>
  </article>
  <button (click)="update()" type="submit" mat-flat-button color="accent" [disabled]="!isTermsChecked">Next</button>
</section>
