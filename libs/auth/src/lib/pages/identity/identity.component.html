<section fxLayout="column" fxLayoutAlign="center center">
  <article fxLayout="row" fxLayoutAlign="center center" fxLayout.lt-md="column">
    <img src="/assets/images/rocket_night.png" />
    <form [formGroup]="form">
      <h2 style="text-align: center;">Your identity</h2>
      <p>
        Please fill out the form to interact with the blockframes DApps.
      </p>
      <mat-form-field appearance="outline">
        <mat-label>Email</mat-label>
        <input matInput type="email" formControlName="email" required />
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>Name</mat-label>
        <input matInput type="text" placeholder="Name" formControlName="name" required />
        <mat-error *ngIf="form.get('name').hasError('required')">
          Name is <strong>required</strong>
        </mat-error>
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>Surname</mat-label>
        <input matInput type="text" placeholder="Surname" formControlName="surname" required />
        <mat-error *ngIf="form.get('surname').hasError('required')">
          Surname is <strong>required</strong>
        </mat-error>
      </mat-form-field>
      <ng-container>
        <mat-form-field appearance="outline">
          <mat-label>Old password</mat-label>
          <input matInput type="password" placeholder="Your pregenerated password" formControlName="generatedPassword"
            required />
        </mat-form-field>
      </ng-container>
      <password-confirm formControlName="newPassword"></password-confirm>
      <!-- TODO issue#1146 -->
      <ng-container *ngIf="mobile">
        <h3>Picture</h3>
        <drop-cropper [ratio]="1" storagePath="avatar" formControlName="avatar"></drop-cropper>
      </ng-container>
    </form>
  </article>
  <button (click)="update()" type="submit" mat-flat-button color="accent" [disabled]="form.invalid">Next</button>
</section>