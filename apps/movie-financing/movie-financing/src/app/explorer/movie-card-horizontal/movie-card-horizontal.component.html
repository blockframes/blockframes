<ng-container *ngIf="(user$ | async) as user">
  <ng-container *ngIf="user.balance >= movie.minTokensRequired">
    <div [class.swapVisual]="swapVisual">
      <mat-card class="mat-elevation-z0">
        <mat-card-header class="poster-container mat-elevation-z1">
          <img mat-card-lg-image src="https://fakeimg.pl/657x251/" alt="Movie Poster">
          <mat-card-title-group>
            <mat-card-subtitle class="subtitle">Prestige Directors</mat-card-subtitle>
            <div class="title">
              <mat-card-subtitle class="stroke">Prestige Director's</mat-card-subtitle>
              <mat-card-subtitle class="director-name">
                {{ movie?.principalInformations?.director || "Director Name" }}
              </mat-card-subtitle>
              <mat-card-title class="movie-title">
                {{ movie?.title || "Movie Name" }}
              </mat-card-title>
            </div>
          </mat-card-title-group>
        </mat-card-header>
        <mat-card-content>

          <table>
            <thead>
            <tr>
              <th>Minimum amount requested
                <span class="value">{{ movie?.principalInformations?.minAmountRequested || "100K$" }}</span>
              </th>
              <th>Director's category
                <span class="value">
            {{ movie?.principalInformations?.directorsCategory || "Confirmed" }}
          </span>
              </th>
            </tr>
            </thead>
          </table>

          <section>
            <h3>Cast</h3>
            <p class="capitalize">
          <span *ngFor="let cast of movie?.artistic?.cast; let i = index">
            <span *ngIf="i !== 0">, </span>
            {{ cast.name }}
          </span>
            </p>
          </section>

          <section>
            <h3>Logline</h3>
            <p>
              {{ movie?.logline }}
            </p>
          </section>

          <mat-progress-bar mode="determinate"
                            [value]="progress">
          </mat-progress-bar>
          <div class="completed">{{ this.progress }}% Completed
          </div>

          <a [routerLink]="['/explorer/movie/', movie?.id || '42']">
            See this movie
            <mat-icon>arrow_right_alt</mat-icon>
          </a>
        </mat-card-content>
      </mat-card>
    </div>
  </ng-container>
</ng-container>
