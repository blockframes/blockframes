<ng-container *ngIf="statement$ | async as statement">
  <ng-container *ngIf="sources$ | async as sources">
    <waterfall-statement-header [statement]="statement" [sources]="sources"></waterfall-statement-header>
    <waterfall-statement-distributor-summary *ngIf="statement.type !== 'producer'" [sources]="sources" [form]="form" [statement]="statement"></waterfall-statement-distributor-summary>  
    <waterfall-statement-producer-summary *ngIf="statement.type === 'producer'" [statement]="statement" [form]="form"></waterfall-statement-producer-summary>
  </ng-container>

  <footer>
    <a mat-flat-button routerLink="edit" *ngIf="statement.type !== 'producer'">
      <mat-icon svgIcon="arrow_back"></mat-icon>
      <span>Back</span>
    </a>
    <button mat-flat-button 
      color="primary"
      [disabled]="statement.status === 'reported'"
      (click)="report(statement)"
      [matTooltip]="statement.status === 'reported' ? 'Statement is already reported.' : 'Report Statement'"
    >
      <span>Report Statement</span>
      <mat-icon svgIcon="arrow_forward"></mat-icon>
    </button>
  </footer>

  <footer>
    <button mat-button (click)="save(statement)">
      <mat-icon svgIcon="save"></mat-icon>
      <span>Save & Come back later</span>
    </button>
  </footer>
</ng-container>
