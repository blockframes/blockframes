<list-page [items]="orgs$ | async">

  <list-page-app-bar>
    <form class="app-bar" [formGroup]="searchForm" fxLayout fxLayoutAlign="center center">
      <mat-icon matPrefix svgIcon="search"></mat-icon>
      <input type="text" formControlName="query" [value]="searchForm.query.value"
        placeholder="Search for a sales company...">
    </form>
  </list-page-app-bar>

  <list-page-title>
    <h1 class="mat-display-2 page-title">Sales Agents</h1>
  </list-page-title>

  <list-page-search>
    <mat-form-field appearance="outline" [formGroup]="searchForm">
      <mat-label>Search for a sales company...</mat-label>
      <mat-icon matPrefix svgIcon="search"></mat-icon>
      <input matInput type="text" formControlName="query" [value]="searchForm.query.value" test-id="search-input">
    </mat-form-field>
  </list-page-search>

  <list-page-description>
    <span i18n *ngIf="nbHits" class="mat-body-2" test-id="organizations-count">
      There {nbHits, plural, =1 {is} other {are}} {{ nbHits }} seller{nbHits, plural, =1 {} other {s}}
      available.
    </span>
  </list-page-description>

  <list-filter test-id="filters">
    <ng-template filter [form]="searchForm.countries" label="Company's Nationality">
      <chips-autocomplete [form]="searchForm.countries" placeholder="Country of Origin" scope="territories" test-id="country">
        <mat-label>Type and select Country</mat-label>
      </chips-autocomplete>
    </ng-template>
  </list-filter>

  <ng-template listPageCard let-org>
    <org-card [org]="org" [attr.test-id]="'org-card_' + org.id"></org-card>
  </ng-template>

  <list-page-progress [value]="hitsViewed / nbHits * 100" (loadMore)="loadMore()">
    <span>You've viewed {{ hitsViewed }} partners from {{ nbHits }}.</span>
  </list-page-progress>

</list-page>