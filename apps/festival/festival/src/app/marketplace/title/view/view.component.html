<ng-container *ngIf="movie$ | async as movie">
  <title-marketplace-shell [routes]="navLinks">
    <movie-header [movie]="movie">

      <movie-header-cta fxLayout="column" fxLayoutGap="32px">
        <section class="orgs">
          <ng-container *ngFor="let org of orgs$ | async">
            <org-chip [org]="org"></org-chip>
          </ng-container>
        </section>
        <section fxLayout fxLayout.lt-sm="column">
          <ng-container *ngIf="(eventId$ | async) as eventId; else request">
            <button mat-button  class="translucent-button" [disabled]="requestSent" (click)="requestAskingPrice(movie.id)">
              <mat-icon svgIcon="local_offer"></mat-icon>
              <span class="linear-wipe">Request Asking Price</span>
            </button>
            <wishlist-button small [movieId]="movie.id"></wishlist-button>
            <a ongoing-event-button [routerLink]="['/event', eventId, 'r', 'i']">Ongoing Screening</a>
          </ng-container>
          <ng-template #request>
            <event-request-screening [movieId]="movie.id" animated></event-request-screening>
            <button mat-button class="translucent-button" [disabled]="requestSent" (click)="requestAskingPrice(movie.id)">
              <mat-icon svgIcon="local_offer"></mat-icon>
              <span class="linear-wipe">Request Asking Price</span>
            </button>
            <wishlist-button small [movieId]="movie.id"></wishlist-button>
          </ng-template>
        </section>
      </movie-header-cta>

      <movie-header-actions fxHide.xs fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="24px">
        <movie-promotional-links [movie]="movie" [links]="promoLinks"></movie-promotional-links>
      </movie-header-actions>
    </movie-header>

    <movie-screening></movie-screening>
  </title-marketplace-shell>
</ng-container>
