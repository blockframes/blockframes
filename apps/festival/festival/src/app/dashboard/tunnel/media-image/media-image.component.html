<tunnel-page>
  <h4 title>Uploaded Media</h4>
  <h1 subtitle>Promotional Images</h1>
  <p description class="mat-body-1">Upload your images in .jpeg or .png formats, they will be used for promotional purposes. When you upload an image, we will help you to match the size required.</p>
  <ng-container tunnel-form>

    <!-- BANNER -->
    <mat-card>
      <mat-card-header>
        <mat-card-title>Banner Image</mat-card-title>
        <mat-card-subtitle>The banner image will be used at the top of the film page in the marketplace</mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
        <drop-cropper
          [storagePath]="movie.id | ref: 'movie' : 'banner'"
          ratio="banner"
          [form]="form.main.banner.get('media').get('original')">
          <h3 type>Banner Image*</h3>
          <p class="mat-body-2" dimensions>Ratio : 16:9</p>
          <p class="mat-caption" format>Accepted Formats: .jpg, .png</p>
        </drop-cropper>
      </mat-card-content>
    </mat-card>


    <!-- POSTERs -->
    <mat-card>
      <mat-card-header>
        <mat-card-title>Poster</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <drop-cropper
          [storagePath]="movie.id | ref: 'movie' : 'poster'"
          ratio="poster"
          [form]="form.main.poster.get('media').get('original')">
          <h3 type>Poster*</h3>
          <p class="mat-body-2" dimensions>Dimensions : 120 x 160 px</p>
          <p class="mat-caption" format>Accepted Formats: .jpg, .png</p>
        </drop-cropper>
      </mat-card-content>
    </mat-card>


    <!-- STILL PHOTOs -->
    <mat-card>
      <mat-card-header>
        <mat-card-title>Stills</mat-card-title>
      </mat-card-header>
      <mat-card-content>

        <ng-container *ngFor="let stillForm of form.promotionalElements.get('still_photo').controls | keyvalue ; let i = index">

          <span class="still mat-body-2">Still # {{ i }}</span>

          <drop-cropper
            [storagePath]="movie.id | ref: 'movie' : 'still' : stillForm.key"
            ratio="still"
            [form]="stillForm.value.get('media').get('original')">
            <h3 type>Stills</h3>
            <p class="mat-body-2" dimensions>Dimensions : 700 x 500 px</p>
            <p class="mat-caption" format>Accepted Formats: .jpg, .png</p>
          </drop-cropper>

          <mat-divider [inset]="true"></mat-divider>

        </ng-container>

        <footer fxLayout="column" fxLayoutAlign="center center">
          <button mat-mini-fab color="primary" (click)="addStill()" aria-label="Add a director form">
            <mat-icon svgIcon="add"></mat-icon>
          </button>
          <span>Add a still photo</span>
        </footer>

      </mat-card-content>
    </mat-card>
  </ng-container>
</tunnel-page>
