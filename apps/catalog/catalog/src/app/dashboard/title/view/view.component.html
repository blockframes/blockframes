<ng-template *ngIf="loading$ | async">
  <mat-spinner color="accent" #loading></mat-spinner>
</ng-template>
<ng-container *ngIf="(movie$ | async) as movie;">
  <header fxLayout="row" fxLayoutAlign="start start">
    <article fxLayout="row" fxLayout.lt-md="column" fxFlex>
       <!-- TODO#1763 get poster by countries from promotionalElements -->
       <ng-container *ngIf=" movie.main.poster || movie.promotionalElements.poster[0].media as poster">
        <img class="movie-poster" [imgRef]="poster" alt="movie poster"/>
      </ng-container>
      <div class="movie-info">
        <h4>{{ getTitle(movie) }}</h4>
        <h1>{{ movie.main.title.international }}</h1>
        <h6>{{ getDirectors(movie) }}</h6>
        <span>{{ getOriginalCountries(movie) }}</span>
      </div>
    </article>
    <!-- TODO #1756: create sales report -->
    <article fxFlex="20" fxFlex.lt-lg="5">
      <mat-form-field>
        <mat-label>View Sales Report</mat-label>
        <mat-select>
          <mat-option value="1">sales report 1</mat-option>
        </mat-select>
      </mat-form-field>
    </article >
  </header>
  <section>
    <nav mat-tab-nav-bar>
      <a mat-tab-link
         *ngFor="let link of navLinks"
         [routerLink]="link.path"
         routerLinkActive #rla="routerLinkActive"
         [active]="rla.isActive">
        {{link.label}}
      </a>
    </nav>
    <router-outlet></router-outlet>
  </section>
</ng-container>